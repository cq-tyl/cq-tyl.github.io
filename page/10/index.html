<!DOCTYPE html>
<html lang=en>
<head>
    <meta charset="utf-8">
 <meta name="referrer" content="no-referrer"/>
    
    <title>TYL</title>
    
    
        <meta name="keywords" content="TYL" />
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="cq_tyl的个人博客">
<meta property="og:type" content="website">
<meta property="og:title" content="TYL">
<meta property="og:url" content="https://cq_tyl.gitee.io/page/10/index.html">
<meta property="og:site_name" content="TYL">
<meta property="og:description" content="cq_tyl的个人博客">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="cq_tyl">
<meta name="twitter:card" content="summary">
    

    
        <link rel="alternate" href="/atom.xml" title="TYL" type="application/atom+xml" />
    

    
        <link rel="icon" href="/favicon.ico" />
    

    
<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/libs/open-sans/styles.css">

    
<link rel="stylesheet" href="/libs/source-code-pro/styles.css">


    
<link rel="stylesheet" href="/css/style.css">

    
<script src="/libs/jquery/2.1.3/jquery.min.js"></script>

    
<script src="/libs/jquery/plugins/cookie/1.4.1/jquery.cookie.js"></script>

    
    
        
<link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">

    
    
        
<link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">

    
    
    
    


    
<meta name="generator" content="Hexo 6.3.0"></head>

<head></head>
<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">TYL</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/">首页</a>
                
                    <a class="main-nav-link" href="/about">我的简历</a>
                
            </nav>
            
            <div id="search-form-wrap">

    <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"> </button><input type="hidden" name="sitesearch" value="https://cq_tyl.gitee.io"></form>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/">首页</a></td>
                
                    <td><a class="main-nav-link" href="/about">我的简历</a></td>
                
                <td>
                    
    <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><input type="hidden" name="sitesearch" value="https://cq_tyl.gitee.io"></form>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
            
                <aside id="sidebar">
   
        
    <div class="widget-wrap" id='categories'>
        <h3 class="widget-title">
            <span>categories</span>
            &nbsp;
            <a id='allExpand' href="#">
                <i class="fa fa-angle-double-down fa-2x"></i>
            </a>
        </h3>
        
        
        
         <ul class="unstyled" id="tree" > 
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Android Application
                        </a>
                         <ul class="unstyled" id="tree" > 
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            AndroidStudio插件
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/wiki/Android%20Application/AndroidStudio%E6%8F%92%E4%BB%B6/Alibaba-Java-Coding-Guidelines%EF%BC%88%E9%98%BF%E9%87%8C%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83%E6%A3%80%E6%B5%8B%EF%BC%89/">Alibaba-Java-Coding-Guidelines（阿里代码规范检测）</a></li>  <li class="file"><a href="/wiki/Android%20Application/AndroidStudio%E6%8F%92%E4%BB%B6/Studio%E6%B1%89%E5%8C%96%E6%8F%92%E4%BB%B6/">Studio汉化插件</a></li>  <li class="file"><a href="/wiki/Android%20Application/AndroidStudio%E6%8F%92%E4%BB%B6/%E7%BF%BB%E8%AF%91%E6%8F%92%E4%BB%B6Translation/">翻译插件Translation</a></li>  <li class="file"><a href="/wiki/Android%20Application/AndroidStudio%E6%8F%92%E4%BB%B6/database-navigator%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E5%BA%93/">Database-Navigator查看数据库</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Android兼容适配
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/wiki/Android%20Application/Android%E5%85%BC%E5%AE%B9%E9%80%82%E9%85%8D/%E8%99%9A%E6%8B%9F%E6%8C%89%E9%94%AE%E9%81%AE%E6%8C%A1%E5%B8%83%E5%B1%80-%E9%9A%90%E8%97%8F%E5%BA%95%E9%83%A8%E8%99%9A%E6%8B%9F%E6%8C%89%E9%94%AENavigation%E5%AE%9E%E7%8E%B0%E5%85%A8%E5%B1%8F/">虚拟按键遮挡布局-隐藏底部虚拟按键Navigation实现全屏</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%85%BC%E5%AE%B9%E9%80%82%E9%85%8D/%E8%AE%BE%E7%BD%AEImageView%E5%9B%BE%E7%89%87%E6%97%B6,%E5%AE%BD%E5%BA%A6%E4%B8%BAmatch%E6%97%B6%E9%9C%80%E8%A6%81%E8%AE%BE%E7%BD%AEscaleType%E4%B8%BAfitXY/">设置ImageView图片时,宽度为match时需要设置scaleType为fitXY</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%85%BC%E5%AE%B9%E9%80%82%E9%85%8D/%E9%80%82%E9%85%8D%E5%8D%8E%E4%B8%BA%E7%AD%89%E6%9C%89%E8%99%9A%E6%8B%9F%E6%8C%89%E9%94%AE%E7%9A%84%E5%B1%8F%E5%B9%95%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">适配华为等有虚拟按键的屏幕的解决方案</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%85%BC%E5%AE%B9%E9%80%82%E9%85%8D/%E5%A4%9A%E4%B8%AAfragment%E9%87%8D%E5%8F%A0%E6%97%B6%EF%BC%8C%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6%E7%A9%BF%E9%80%8F%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%EF%BC%88viewpager+fragment%EF%BC%89/">多个Fragment重叠时，点击事件穿透解决方法（viewpager+fragment）</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Android动画
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/wiki/Android%20Application/Android%E5%8A%A8%E7%94%BB/LayoutTransition%EF%BC%88%E9%80%9A%E7%94%A8%E9%9A%90%E8%97%8F%E6%98%BE%E7%A4%BA%E5%8A%A8%E7%94%BB%EF%BC%89/">LayoutTransition（通用隐藏显示动画）</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%8A%A8%E7%94%BB/%E5%85%B1%E4%BA%AB%E5%85%83%E7%B4%A0%EF%BC%88Shared-Element%EF%BC%89/">共享元素（Shared-Element）</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%8A%A8%E7%94%BB/%E5%90%AF%E5%8A%A8%E9%A1%B5%E7%BC%A9%E6%94%BE%E5%8A%A8%E7%94%BB/">启动页缩放动画</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%8A%A8%E7%94%BB/%E5%B8%A7%E5%8A%A8%E7%94%BB/">帧动画</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%8A%A8%E7%94%BB/%E8%A1%A5%E9%97%B4%E5%8A%A8%E7%94%BB/">补间动画</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%8A%A8%E7%94%BB/%E6%8F%AD%E9%9C%B2%E6%95%88%E6%9E%9C/">揭露效果</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Android基础
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/JAV%E7%BA%BF%E7%A8%8B%E6%B1%A0/">JAV线程池</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/TCP%E5%8D%8F%E8%AE%AE%EF%BC%88Socket%EF%BC%89/">TCP协议（Socket）</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/Notifaction/">Notifaction</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/JAVA%E9%9B%86%E5%90%88/">JAVA集合</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/android-%E8%AE%A1%E6%97%B6%E5%99%A8%EF%BC%88Handle+Runable-%E5%8F%AF%E9%87%8D%E7%BD%AE%E6%97%B6%E9%97%B4%E5%8F%AF%E6%9A%82%E5%81%9C%EF%BC%89/">Android-计时器（Handle+Runable-可重置时间可暂停）</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/JAVA%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B9%8B%E9%97%B4%E7%9A%84%E9%80%9A%E4%BF%A1/">JAVA多线程之间的通信</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/JSON%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90/">JSON数据解析</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/Sevice%EF%BC%88%E6%9C%8D%E5%8A%A1%EF%BC%89/">Sevice（服务）</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%EF%BC%88%E5%9F%BA%E7%A1%80%EF%BC%89/">类加载器（基础）</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/new-Random()--%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E6%95%B0/">New-Random()--生成随机数</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">正则表达式</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/SharedPreferences%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/">SharedPreferences数据存储</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/android-popwind/">Android-Popwind</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/%E5%90%8C%E6%AD%A5%E9%94%81Synchronized%E5%92%8CLock/">同步锁Synchronized和Lock</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/Android-ConstraintLayout-%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3/">Android-ConstraintLayout-使用详解</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/EditText%E7%84%A6%E7%82%B9%E5%8A%A8%E6%80%81%E6%8E%A7%E5%88%B6/">EditText焦点动态控制</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/StringBuffer%E5%92%8CStringBuilder/">StringBuffer和StringBuilder</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/ANR/">ANR</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/android-ImageView-scaleType%E7%9A%84%E5%B1%9E%E6%80%A7%E7%90%86%E8%A7%A3/">Android-ImageView-scaleType的属性理解</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/android%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91/">Android事件分发</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6/">逻辑运算符</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/Android-%E5%80%92%E8%AE%A1%E6%97%B6/">Android-倒计时</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/Android%E4%B8%AD%E6%8E%A5%E5%8F%A3%E5%9B%9E%E8%B0%83-%E6%96%B9%E6%B3%95%E5%9B%9E%E8%B0%83/">Android中接口回调-方法回调</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/android-6-0%E5%8A%A8%E6%80%81%E6%9D%83%E9%99%90/">Android-6-0动态权限</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/Android-M-%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84%E6%9D%83%E9%99%90%E8%AF%B7%E6%B1%82/">Android-M-最简单的权限请求</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/Toast%EF%BC%88%E8%87%AA%E5%AE%9A%E4%B9%89Toast%EF%BC%89/">Toast（自定义Toast）</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/android-6-0%E6%96%B0%E7%89%B9%E6%80%A7/">Android-6-0新特性</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1-AsyncTask/">异步任务-AsyncTask</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/AndroidManifest-xml/">AndroidManifest-Xml</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/Java-Character-%E7%B1%BB%EF%BC%88%E5%8D%95%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B-%E5%AD%97%E6%AF%8D-%E6%95%B0%E5%AD%97-%E5%A4%A7%E5%B0%8F%E5%86%99%E5%88%A4%E6%96%AD%EF%BC%89/">Java-Character-类（单个字符串类型-字母-数字-大小写判断）</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/BroadCastReceiver(%E5%B9%BF%E6%92%AD)/">BroadCastReceiver(广播)</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/Iterator%E8%BF%AD%E4%BB%A3%E5%99%A8/">Iterator迭代器</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/UDP%E5%8D%8F%E8%AE%AE/">UDP协议</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/Activity%E5%90%91Fragment%E4%BC%A0%E5%80%BC/">Activity向Fragment传值</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%9F%BA%E7%A1%80/android%E5%AD%97%E9%97%B4%E8%B7%9D%E5%92%8C%E8%A1%8C%E9%97%B4%E8%B7%9D/">Android字间距和行间距</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Android工具类
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/Android%E5%8A%A8%E6%80%81%E4%BF%AE%E6%94%B9%E6%A1%8C%E9%9D%A2%E5%9B%BE%E6%A0%87%E5%8F%8A%E5%BA%94%E7%94%A8%E6%A1%8C%E9%9D%A2%E5%BA%94%E7%94%A8%E5%90%8D%E7%A7%B0/">Android动态修改桌面图标及应用桌面应用名称</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/Android%E5%8F%91%E5%B8%83%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BA%93%E5%88%B0JitPack%E4%B8%8A/">Android发布自定义库到JitPack上</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/JAVA%E5%86%85%E5%AD%98%E5%88%92%E5%88%86/">JAVA内存划分</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/android-studio-mac-%E8%8E%B7%E5%8F%96MD5-SHA1-SHA256%E8%AF%81%E4%B9%A6%E6%8C%87%E7%BA%B9/">Android-Studio-Mac-获取MD5-SHA1-SHA256证书指纹</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/android-textview%E7%A9%BA%E6%A0%BC%E5%8D%A0%E4%BD%8D%E7%AC%A6%E4%BB%A5%E5%8F%8A%E4%B8%80%E4%BA%9B%E5%85%B6%E4%BB%96%E5%8D%A0%E4%BD%8D%E7%AC%A6%E6%B1%87%E6%80%BB/">Android-Textview空格占位符以及一些其他占位符汇总</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/github%E5%9B%BE%E7%89%87%E5%8A%A0%E8%BD%BD%E5%A4%B1%E8%B4%A5/">Github图片加载失败</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/%E5%88%A4%E6%96%AD%E6%9F%90%E4%B8%AAactivity%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%E6%A0%88%E5%A0%86%E4%B8%AD/">判断某个Activity是否存在栈堆中</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/Androd-%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF%E5%8A%A8/">Androd-开机自启动</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/Android-%E5%9C%A8%E6%B2%A1%E6%9C%89usb%E8%BF%9E%E6%8E%A5%E7%BA%BF%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8B%E5%A6%82%E4%BD%95%E8%BF%9E%E6%8E%A5%E6%89%8B%E6%9C%BA%E8%AE%BE%E5%A4%87/">Android-在没有Usb连接线的情况下如何连接手机设备</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/Android%E4%BF%9D%E6%B4%BB/">Android保活</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/Android%E5%B0%86String%E5%88%86%E5%89%B2%E8%BD%AC%E5%8C%96%E4%B8%BAArrayList/">Android将String分割转化为ArrayList</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/Android%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%9B%E4%B8%AA%E6%96%B9%E5%90%91%E6%BB%9A%E5%8A%A8%E7%9A%84%E8%B7%91%E9%A9%AC%E7%81%AFMarqueeViewLibrary/">Android自定义四个方向滚动的跑马灯MarqueeViewLibrary</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/Android%E7%AC%AC%E4%B8%89%E6%96%B9%E5%B8%B8%E7%94%A8%E5%AE%89%E5%85%A8%E6%BC%8F%E6%B4%9E%E6%A3%80%E6%B5%8B/">Android第三方常用安全漏洞检测</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/EventBus/">EventBus</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/Glide%E8%AE%BE%E7%BD%AE%E5%9C%86%E8%A7%92%E3%80%81%E5%9C%86%E5%BD%A2%E5%9B%BE%E7%89%87%EF%BC%88%E6%97%A0%E9%9C%80%E5%86%8D%E5%88%9B%E5%BB%BA%E5%B7%A5%E5%85%B7%E7%B1%BB%E4%BA%86%EF%BC%89/">Glide设置圆角、圆形图片（无需再创建工具类了）</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/GreenDao/">GreenDao</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/RxJava-RxAndroid/">RxJava-RxAndroid</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/Sentry-Android%E9%9B%86%E6%88%90-%E4%BD%BF%E7%94%A8-%E6%B7%B7%E6%B7%86/">Sentry-Android集成-使用-混淆</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/Svn%E5%BF%BD%E7%95%A5Android%E9%A1%B9%E7%9B%AE%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6-%E6%96%87%E4%BB%B6%E5%A4%B9/">Svn忽略Android项目上传文件-文件夹</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/android-RadioButton-drawableTop%E5%9B%BE%E7%89%87%E5%8F%98%E5%9E%8B/">Android-RadioButton-drawableTop图片变型</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/android-%E6%9C%AC%E5%9C%B0%E6%97%A5%E5%8E%86%E6%8F%92%E5%85%A5%E4%BA%8B%E4%BB%B6/">Android-本地日历插入事件</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/android-%E8%8E%B7%E5%8F%96assets%E5%86%85%E7%9A%84%E6%96%87%E4%BB%B6%E8%BD%ACFile/">Android-获取assets内的文件转File</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/android-%E8%BD%AF%E9%94%AE%E7%9B%98%E5%B7%A5%E5%85%B7%E7%B1%BB/">Android-软键盘工具类</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/android-%E9%80%8F%E6%98%8E%E5%BA%A6%E6%95%B0%E5%80%BC%E8%AE%B0%E5%BD%95%E8%A1%A8/">Android-透明度数值记录表</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/android%E6%98%8E%E8%BF%9B%E5%BA%B75-1%E7%9B%92%E5%AD%90%E5%AE%9A%E6%97%B6%E5%BC%80%E5%85%B3%E6%9C%BA/">Android明进康5-1盒子定时开关机</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/android%E8%B0%83%E8%AF%95%E8%BE%93%E5%87%BAlog%E6%89%93%E5%8D%B0%E4%BF%A1%E6%81%AF%E5%88%B0%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6/">Android调试输出log打印信息到本地文件</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/app%E6%98%AF%E5%90%A6%E6%AD%A3%E5%9C%A8%E8%BF%90%E8%A1%8C-%E8%BF%90%E8%A1%8C%E7%8A%B6%E6%80%81/">App是否正在运行-运行状态</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/%E5%9C%A8%E7%BA%BF%E5%9B%BE%E7%89%87%E5%8E%BB%E5%BA%95%E5%B7%A5%E5%85%B7---%E5%B0%86%E7%BA%AF%E8%89%B2%E8%83%8C%E6%99%AF%E7%9A%84%E5%9B%BE%E7%89%87%E8%BD%AC%E6%8D%A2%E4%B8%BA%E8%83%8C%E6%99%AF%E9%80%8F%E6%98%8E%E7%9A%84%E5%9B%BE%E7%89%87/">在线图片去底工具---将纯色背景的图片转换为背景透明的图片</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9C%86%E5%BD%A2%E5%A4%B4%E5%83%8FCircleImageView%E7%9A%84%E4%BD%BF%E7%94%A8/">自定义圆形头像CircleImageView的使用</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/Android-Gps-%E4%BD%8D%E7%BD%AE%E4%BF%A1%E6%81%AF%E5%BC%80%E5%85%B3%E6%A3%80%E6%B5%8B/">Android-Gps-位置信息开关检测</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/android-eclpse%E5%BF%AB%E6%8D%B7%E9%94%AE%E5%A4%A7%E5%85%A8/">Android-Eclpse快捷键大全</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/java-android-%E9%93%B6%E8%A1%8C%E5%8D%A1%E5%8F%B7%E6%9F%A5%E8%AF%A2%E9%93%B6%E8%A1%8C%E5%8D%A1%E7%B1%BB%E5%9E%8B%E5%8F%8A%E5%90%8D%E7%A7%B0/">Java-Android-银行卡号查询银行卡类型及名称</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/Android-RecyclerView%E5%AE%9E%E7%8E%B0%E6%A8%AA%E5%90%91%E6%BB%91%E5%8A%A8%E7%BF%BB%E9%A1%B5/">Android-RecyclerView实现横向滑动翻页</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/VAPTCHA-ANDROID-SDK%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/">VAPTCHA-ANDROID-SDK部署文档</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/Android-Jenkins%E8%87%AA%E5%8A%A8%E6%89%93%E5%8C%85/">Android-Jenkins自动打包</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/Android%E5%88%A4%E6%96%ADUrl%E6%A0%BC%E5%BC%8F%E6%98%AF%E5%90%A6%E6%AD%A3%E7%A1%AE/">Android判断Url格式是否正确</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/marktext/">Marktext</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/%E8%87%AA%E5%88%B6-9%E5%9B%BE%E5%AE%9E%E7%8E%B0%E5%92%8C%E8%AE%BE%E8%AE%A1%E5%9B%BE%E4%B8%80%E8%87%B4%E7%9A%84%E9%98%B4%E5%BD%B1%E6%95%88%E6%9E%9C/">自制-9图实现和设计图一致的阴影效果</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/Android-pcm%E8%BD%AC%E7%A0%81wav/">Android-Pcm转码wav</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/Android-%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E5%B1%8F%E5%B9%95%E7%9A%84%E6%97%8B%E8%BD%AC%E8%A7%92%E5%BA%A6/">Android-获取当前屏幕的旋转角度</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/android-%E4%BF%9D%E5%AD%98%E5%9B%BE%E7%89%87%E5%88%B0%E6%9C%AC%E5%9C%B0%E7%9B%B8%E5%86%8C%E5%B9%B6%E5%8F%8A%E6%97%B6%E6%9B%B4%E6%96%B0%E6%98%BE%E7%A4%BA/">Android-保存图片到本地相册并及时更新显示</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/android-%E5%A4%9A%E8%AF%AD%E8%A8%80%E5%88%87%E6%8D%A2/">Android-多语言切换</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/adb%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">Adb常用命令</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/adb%E9%85%8D%E7%BD%AE/">Adb配置</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/Android%20SildingMenu%EF%BC%88%E4%BE%A7%E6%BB%91%E8%8F%9C%E5%8D%95%EF%BC%89%E5%B8%B8%E7%94%A8%E5%B1%9E%E6%80%A7/">Android SildingMenu（侧滑菜单）常用属性</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/Android%E5%9B%BE%E7%89%87%E6%89%8B%E5%8A%BF%E6%8E%A7%E4%BB%B6/">Android图片手势控件</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/DeBug%E8%B0%83%E8%AF%95/">DeBug调试</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/EditText%E5%BC%B9%E5%87%BA%E9%94%AE%E7%9B%98%E6%97%B6%E6%BB%9A%E5%8A%A8%E5%88%B0%E7%95%8C%E9%9D%A2%E6%8C%87%E5%AE%9A%E4%BD%8D%E7%BD%AE/">EditText弹出键盘时滚动到界面指定位置</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/%E6%97%A0%E9%9A%9C%E7%A2%8D%E5%8D%87%E7%BA%A7/">无障碍升级</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/%E5%88%A4%E6%96%AD%E5%BD%93%E5%89%8D%E5%BA%94%E7%94%A8%E6%98%AF%E5%90%A6%E9%80%80%E5%88%B0%E5%90%8E%E5%8F%B0/">判断当前应用是否退到后台</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Android日常记录
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/Activity%E7%9A%84%E5%9B%9B%E7%A7%8D%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F/">Activity的四种启动模式</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/Android-Elevation/">Android-Elevation</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/Android-%E6%A0%B9%E6%8D%AE%E9%80%97%E5%8F%B7%E5%88%86%E9%9A%94String/">Android-根据逗号分隔String</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/Android%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/">Android内存管理</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/Android%E5%B8%B8%E7%94%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">Android常用设计模式</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/Android%E8%87%AA%E5%AE%9A%E4%B9%89View/">Android自定义View</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/Anroid-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E4%BD%93%E6%A0%B7%E5%BC%8F/">Anroid-自定义字体样式</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/EditText%E4%B8%8D%E8%87%AA%E5%8A%A8%E8%8E%B7%E5%8F%96%E7%84%A6%E7%82%B9/">EditText不自动获取焦点</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/GlidePalette%E8%8E%B7%E5%8F%96%E5%9B%BE%E7%89%87%E8%83%8C%E6%99%AF%E8%89%B2/">GlidePalette获取图片背景色</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/Handler/">Handler</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BC%96%E7%A8%8B%E5%AE%89%E5%85%A8%E9%80%80%E5%87%BA%E7%BA%BF%E7%A8%8B%E6%96%B9%E6%B3%95/">Java多线程编程安全退出线程方法</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/android-MultiDex%E5%88%86%E5%8C%85/">Android-MultiDex分包</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/android-textview%E5%8A%A8%E6%80%81%E4%BF%AE%E6%94%B9%E6%8C%87%E5%AE%9A%E6%96%87%E5%AD%97%E9%A2%9C%E8%89%B2/">Android-Textview动态修改指定文字颜色</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/android-%E6%A0%B9%E6%8D%AE%E4%B8%89%E7%82%B9%E5%9D%90%E6%A0%87%E6%B1%82%E4%B8%89%E8%A7%92%E5%BD%A2%E9%9D%A2%E7%A7%AF/">Android-根据三点坐标求三角形面积</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/android-%E8%8B%B1%E6%96%87%E5%8D%95%E8%AF%8D%E5%8D%87%E5%BA%8F%E6%8E%92%E5%BA%8F%EF%BC%88Collections-sort()%EF%BC%89/">Android-英文单词升序排序（Collections-Sort()）</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/android%E4%B8%AD%E6%9B%B4%E6%96%B0UI%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F/">android中更新UI的几种方式</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/viewpager%E8%87%AA%E5%AE%9A%E4%B9%89%E6%BB%91%E5%8A%A8%E9%80%9F%E5%BA%A6/">Viewpager自定义滑动速度</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/%E6%95%B0%E6%8D%AE%E5%BA%8F%E5%88%97%E5%8C%96%E6%96%B9%E6%A1%88/">数据序列化方案</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/%E7%A8%8B%E5%BA%8F%E5%91%98%E5%BF%85%E7%9F%A5%E7%9A%846%E7%82%B9%E7%BC%96%E7%A8%8B%E7%A7%98%E8%AF%80/">程序员必知的6点编程秘诀</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E8%AE%B0%E5%BD%95/%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%8E%86-%E6%8F%92%E5%85%A5%E9%87%8D%E5%A4%8D%E4%BA%8B%E4%BB%B6%E8%A7%84%E5%88%99-(android-java)/">系统日历-插入重复事件规则-(Android-Java)</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Android日常问题
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E9%97%AE%E9%A2%98/Android-9-0-P-http-%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E7%9A%84%E9%97%AE%E9%A2%98/">Android-9-0-P-Http-网络请求的问题</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E9%97%AE%E9%A2%98/Android-FaceBook%E7%99%BB%E5%BD%95-%E5%88%86%E4%BA%AB%E8%8E%B7%E5%8F%96HashKey%EF%BC%88%E5%AF%86%E9%92%A5%E6%95%A3%E5%88%97%EF%BC%89%E7%9A%84%E7%AE%80%E5%8D%95%E6%96%B9%E6%B3%95/">Android-FaceBook登录-分享获取HashKey（密钥散列）的简单方法</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E9%97%AE%E9%A2%98/Android-studio-%E7%82%B9%E5%87%BB%E8%BF%90%E8%A1%8C%E6%80%BB%E6%98%AF%E8%BF%9B%E5%85%A5Debug%E6%A8%A1%E5%BC%8F/">Android-Studio-点击运行总是进入Debug模式</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E9%97%AE%E9%A2%98/Android%E8%BF%9B%E7%A8%8B%E4%BF%9D%E6%B4%BB-%E6%81%AF%E5%B1%8F%E5%90%8E%E5%90%8E%E5%8F%B0%E4%BF%9D%E6%8C%81%E5%AE%9A%E4%BD%8D%E3%80%81%E7%BD%91%E7%BB%9C%E8%BF%90%E8%A1%8C/">Android进程保活-息屏后后台保持定位、网络运行</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E9%97%AE%E9%A2%98/DatePickerDialog--setMinDate-setMaxDate%E5%90%8E%E6%A0%87%E9%A2%98%E9%9A%8F%E7%9D%80%E5%8F%98%E5%8C%96-%EF%BC%88%E5%8E%BB%E6%8E%89%E6%A0%87%E9%A2%98%EF%BC%89/">DatePickerDialog--setMinDate-setMaxDate后标题随着变化-（去掉标题）</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E9%97%AE%E9%A2%98/recyclerview-smoothScrollToPosition()%E5%B9%B3%E6%BB%91%E5%A4%B1%E6%95%88-%E6%9C%AA%E8%B5%B7%E6%95%88%E6%9E%9C/">Recyclerview-smoothScrollToPosition()平滑失效-未起效果</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E9%97%AE%E9%A2%98/%E8%BD%AF%E9%94%AE%E7%9B%98%E5%BC%B9%E5%87%BA%E5%90%8E%E5%B8%83%E5%B1%80%E4%B8%8A%E7%A7%BB/">软键盘弹出后布局上移</a></li>  <li class="file"><a href="/wiki/Android%20Application/Android%E6%97%A5%E5%B8%B8%E9%97%AE%E9%A2%98/studio%E6%8F%92%E4%BB%B6%E4%B8%8B%E8%BD%BD%E6%85%A2%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/">Studio插件下载慢解决方法</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Material-Design新控件
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/wiki/Android%20Application/Material-Design%E6%96%B0%E6%8E%A7%E4%BB%B6/AppbarLayout/">AppbarLayout</a></li>  <li class="file"><a href="/wiki/Android%20Application/Material-Design%E6%96%B0%E6%8E%A7%E4%BB%B6/Chronometer%E8%AE%A1%E6%97%B6%E5%99%A8/">Chronometer计时器</a></li>  <li class="file"><a href="/wiki/Android%20Application/Material-Design%E6%96%B0%E6%8E%A7%E4%BB%B6/FloatingActionButton(%E6%82%AC%E6%B5%AE%E6%8C%89%E9%92%AE)/">FloatingActionButton(悬浮按钮)</a></li>  <li class="file"><a href="/wiki/Android%20Application/Material-Design%E6%96%B0%E6%8E%A7%E4%BB%B6/Snackbar/">Snackbar</a></li>  <li class="file"><a href="/wiki/Android%20Application/Material-Design%E6%96%B0%E6%8E%A7%E4%BB%B6/SwitchCompat/">SwitchCompat</a></li>  <li class="file"><a href="/wiki/Android%20Application/Material-Design%E6%96%B0%E6%8E%A7%E4%BB%B6/TabLayout/">TabLayout</a></li>  <li class="file"><a href="/wiki/Android%20Application/Material-Design%E6%96%B0%E6%8E%A7%E4%BB%B6/TextInputLayout/">TextInputLayout</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            android-https双向验证
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/wiki/Android%20Application/android-https%E5%8F%8C%E5%90%91%E9%AA%8C%E8%AF%81/Glide-okhttps%E8%AF%81%E4%B9%A6%E9%AA%8C%E8%AF%81%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE/">Glide-Okhttps证书验证全局配置</a></li>  <li class="file"><a href="/wiki/Android%20Application/android-https%E5%8F%8C%E5%90%91%E9%AA%8C%E8%AF%81/P12%E8%AF%81%E4%B9%A6%E8%BD%ACBKS%E8%AF%81%E4%B9%A6/">P12证书转BKS证书</a></li>  <li class="file"><a href="/wiki/Android%20Application/android-https%E5%8F%8C%E5%90%91%E9%AA%8C%E8%AF%81/android-https%E5%8F%8C%E5%90%91%E9%AA%8C%E8%AF%81-%E6%80%BB%E7%BB%93/">Android-Https双向验证-总结</a></li>  <li class="file"><a href="/wiki/Android%20Application/android-https%E5%8F%8C%E5%90%91%E9%AA%8C%E8%AF%81/android-okhttps%E5%8F%8C%E5%90%91%E9%AA%8C%E8%AF%81/">Android-Okhttps双向验证</a></li>  <li class="file"><a href="/wiki/Android%20Application/android-https%E5%8F%8C%E5%90%91%E9%AA%8C%E8%AF%81/android-webView%E7%9A%84%E5%8F%8C%E5%90%91%E9%AA%8C%E8%AF%81/">Android-webView的双向验证</a></li>  <li class="file"><a href="/wiki/Android%20Application/android-https%E5%8F%8C%E5%90%91%E9%AA%8C%E8%AF%81/android-%E5%8D%95%E5%8F%8C%E5%90%91%E9%AA%8C%E8%AF%81%E7%9F%A5%E8%AF%86%E7%82%B9/">Android-单双向验证知识点</a></li>  <li class="file"><a href="/wiki/Android%20Application/android-https%E5%8F%8C%E5%90%91%E9%AA%8C%E8%AF%81/android%E8%8E%B7%E5%8F%96%E8%AF%81%E4%B9%A6%E6%96%87%E4%BB%B6/">Android获取证书文件</a></li>  <li class="file"><a href="/wiki/Android%20Application/android-https%E5%8F%8C%E5%90%91%E9%AA%8C%E8%AF%81/https%E5%8F%8C%E5%90%91%E8%AE%A4%E8%AF%81%E8%AF%81%E4%B9%A6%E7%94%9F%E6%88%90/">Https双向认证证书生成</a></li>  <li class="file"><a href="/wiki/Android%20Application/android-https%E5%8F%8C%E5%90%91%E9%AA%8C%E8%AF%81/phpstudy%E6%90%AD%E5%BB%BA%E6%9C%AC%E5%9C%B0%E6%9C%8D%E5%8A%A1%E5%99%A8/">Phpstudy搭建本地服务器</a></li>  <li class="file"><a href="/wiki/Android%20Application/android-https%E5%8F%8C%E5%90%91%E9%AA%8C%E8%AF%81/%E9%85%8D%E7%BD%AE%E5%AE%8C%E6%88%90%E5%90%8E%E7%9A%84%E6%B5%8B%E8%AF%95/">配置完成后的测试</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            android-加密-解密-数据压缩
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/wiki/Android%20Application/android-%E5%8A%A0%E5%AF%86-%E8%A7%A3%E5%AF%86-%E6%95%B0%E6%8D%AE%E5%8E%8B%E7%BC%A9/android-%E5%8E%9F%E7%94%9Fbase64/">Android-原生Base64</a></li>  <li class="file"><a href="/wiki/Android%20Application/android-%E5%8A%A0%E5%AF%86-%E8%A7%A3%E5%AF%86-%E6%95%B0%E6%8D%AE%E5%8E%8B%E7%BC%A9/10%E8%BF%9B%E5%88%B6%E8%BD%AC20%E8%BF%9B%E5%88%B6%EF%BC%88%E4%BB%BB%E6%84%8F%E8%BF%9B%E5%88%B6-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E7%AC%A6%EF%BC%89/">10进制转20进制（任意进制-自定义字符）</a></li>  <li class="file"><a href="/wiki/Android%20Application/android-%E5%8A%A0%E5%AF%86-%E8%A7%A3%E5%AF%86-%E6%95%B0%E6%8D%AE%E5%8E%8B%E7%BC%A9/%E5%8E%8B%E7%BC%A9%E7%AE%97%E6%B3%95%E8%BF%9B%E8%A1%8C%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8E%8B%E7%BC%A9/">压缩算法进行字符串压缩</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            rxjava2
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/wiki/Android%20Application/rxjava2/Rxjava2%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/">Rxjava2的基本使用</a></li>  <li class="file"><a href="/wiki/Android%20Application/rxjava2/rxjava2%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/">Rxjava2基本概念</a></li>  </ul> 
                    </li> 
                     </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Android FrameWork
                        </a>
                         <ul class="unstyled" id="tree" > 
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Framework源码分析
                        </a>
                         <ul class="unstyled" id="tree" > 
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Android 13
                        </a>
                         <ul class="unstyled" id="tree" > 
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            InPutManagerService
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/wiki/Android%20FrameWork/Framework%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/Android%2013/InPutManagerService/3.InputReader%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86/">3.InputReader事件处理</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/Framework%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/Android%2013/InPutManagerService/1.InputFlinger%E7%9A%84%E5%90%AF%E5%8A%A8/">1.InputFlinger的启动</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/Framework%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/Android%2013/InPutManagerService/2.EventHub%E8%8E%B7%E5%8F%96%E4%BA%8B%E4%BB%B6/">2.EventHub获取事件</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/Framework%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/Android%2013/InPutManagerService/4.InputDispatcher%E4%BA%8B%E4%BB%B6%E5%88%86%E5%8F%91/">4.InputDispatcher事件分发</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/Framework%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/Android%2013/InPutManagerService/5.%E8%A7%A6%E6%91%B8%E4%BA%8B%E4%BB%B6%E5%9C%A8%E5%BA%94%E7%94%A8%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%88%86%E5%8F%91%E5%92%8C%E5%A4%84%E7%90%86/">5.触摸事件在应用进程的分发和处理</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            WMSAMS
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/wiki/Android%20FrameWork/Framework%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/Android%2013/WMSAMS/1.%E7%AA%97%E5%8F%A3%E5%B1%82%E7%BA%A7%20_%E5%AE%B9%E5%99%A8%E7%B1%BB/">1.窗口层级 _容器类</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/Framework%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/Android%2013/WMSAMS/2.%E7%AA%97%E5%8F%A3%E5%B1%82%E7%BA%A7%20_%E5%B1%82%E7%BA%A7%E7%BB%93%E6%9E%84%E6%A0%91%E7%9A%84%E6%9E%84%E5%BB%BA/">2.窗口层级 _层级结构树的构建</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/Framework%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/Android%2013/WMSAMS/3.%E7%AA%97%E5%8F%A3%E5%B1%82%E7%BA%A7_%E5%B1%82%E7%BA%A7%E7%BB%93%E6%9E%84%E6%A0%91%E6%B7%BB%E5%8A%A0%E7%AA%97%E5%8F%A3/">3.窗口层级_层级结构树添加窗口</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/Framework%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/Android%2013/WMSAMS/4.WMS%E7%AA%97%E5%8F%A3%E7%9B%B8%E5%85%B3%E6%B5%81%E7%A8%8B/"></a></li>  </ul> 
                    </li> 
                     <li class="file"><a href="/wiki/Android%20FrameWork/Framework%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/Android%2013/1.android13%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%E4%B9%8BSeLinux%E6%9D%83%E9%99%90%E4%BB%8B%E7%BB%8D/">1.Android13启动流程之SeLinux权限介绍.md</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/Framework%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/Android%2013/2.Android13%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%E4%B9%8BFirstStageMain%E9%98%B6%E6%AE%B5/">2.Android13启动流程之FirstStageMain阶段</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/Framework%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/Android%2013/3.Android13%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%E4%B9%8BSecondStageMain%E9%98%B6%E6%AE%B5/">3.Android13启动流程之SecondStageMain阶段</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/Framework%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/Android%2013/4.Android13%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%E4%B9%8BZygote%E5%92%8CSystemServer%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/">4.Android13启动流程之Zygote和SystemServer启动流程</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/Framework%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/Android%2013/5.Android13%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%E4%B9%8BSystemServer%E5%86%85%E9%83%A8%E9%80%BB%E8%BE%91%E5%88%86%E6%9E%90/">5.android13启动流程之SystemServer内部逻辑分析.md</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/Framework%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/Android%2013/6.PowerManagerService%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B%E5%92%8C%E6%A0%B8%E5%BF%83%E6%96%B9%E6%B3%95/">6.PowerManagerService启动流程和核心方法</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/Framework%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/Android%2013/7.%E7%82%B9%E5%87%BB%E6%A1%8C%E9%9D%A2APP%E5%9B%BE%E6%A0%87%EF%BC%8C%E5%88%B0APP%E7%95%8C%E9%9D%A2%E6%98%BE%E7%A4%BA%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90(%E4%B8%80)/">7.点击桌面APP图标，到APP界面显示流程分析</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/Framework%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/Android%2013/8.%E7%82%B9%E5%87%BB%E6%A1%8C%E9%9D%A2APP%E5%9B%BE%E6%A0%87%EF%BC%8C%E5%88%B0APP%E7%95%8C%E9%9D%A2%E6%98%BE%E7%A4%BA%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90(%E4%BA%8C)/">8.点击桌面APP图标，到APP界面显示流程分析(二)</a></li>  </ul> 
                    </li> 
                     </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Framework相关
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/wiki/Android%20FrameWork/Framework%E7%9B%B8%E5%85%B3/1.Handler%E6%B6%88%E6%81%AF%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90/">Handler消息机制原理解析</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/Framework%E7%9B%B8%E5%85%B3/2.Binder%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90/">Binder原理解析</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/Framework%E7%9B%B8%E5%85%B3/ANR%E7%9A%84%E4%BA%A7%E7%94%9F%E6%9C%BA%E5%88%B6/">ANR的产生机制</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/Framework%E7%9B%B8%E5%85%B3/SystemUI/">SystemUI</a></li>  </ul> 
                    </li> 
                     <li class="file"><a href="/wiki/Android%20FrameWork/LINUX%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/">LINUX基础命令</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/VIM%E4%BD%BF%E7%94%A8/">VIM使用</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/adb%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">Adb常用命令</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/%E8%87%AA%E5%AE%9A%E4%B9%89%E6%9C%8D%E5%8A%A1/">自定义服务</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/%E4%BD%BF%E7%94%A8%20git%20add%20-p%20%E6%95%B4%E7%90%86%20patch/">使用Git Add -P 整理 Patch</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/dumpsys%E5%91%BD%E4%BB%A4%E7%94%A8%E6%B3%95/">Dumpsys命令用法</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/AOSP%20Repo%E5%91%BD%E4%BB%A4%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99/">AOSP Repo 命令参考资料</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/ADB%E5%92%8CMonkey%E6%B5%8B%E8%AF%95/">ADB和Monkey测试</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/AOSP%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">AOSP常用编译和查找命令文件</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/Eclipse%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/">Eclipse安装教程</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/Windows%E5%92%8CUbuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85/">Windows和Ubuntu双系统安装</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/Android%20%E6%BA%90%E7%A0%81%E6%A0%B9%E7%9B%AE%E5%BD%95%E4%BB%8B%E7%BB%8D/">Android源码根目录介绍</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/Framework%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/">Framework遇到的问题</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/%E5%AF%BC%E5%85%A5%E7%B3%BB%E7%BB%9F%E6%BA%90%E7%A0%81%E5%88%B0Studio/">导入系统源码到Studio</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/Linux%20%E8%AE%BE%E7%BD%AEswap/">Linux设置swap</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/wine%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/">Wine安装及使用</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/Selinux&SeAndroid/">Selinux&SeAndroid</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/rc%E6%96%87%E4%BB%B6%E8%AF%AD%E6%B3%95%E8%A7%84%E5%88%99/">Rc文件语法规则</a></li>  <li class="file"><a href="/wiki/Android%20FrameWork/ASFP%20(android%20studio%20for%20platform)%E4%BD%BF%E7%94%A8/">ASFP (Android Studio for Platform)使用</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Android进阶
                        </a>
                         <ul class="unstyled" id="tree" > 
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Jetpack
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/Jetpack/Jetpack%E6%9E%B6%E6%9E%84%E7%BB%84%E4%BB%B6%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/">Jetpack架构组件从入门到精通</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/Jetpack/1.LifeCycle/">1.LifeCycle</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/Jetpack/2.LiveData/">2.LiveData</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/Jetpack/3.DataBinding/">3.DataBinding</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/Jetpack/4.Dagger2/">4.Dagger2</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/Jetpack/5.ViewModle/">5.ViewModle</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/Jetpack/6.Room/">6.Room</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/Jetpack/7.Hilt/">7.Hilt</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/Jetpack/8.Paging/">8.Paging</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/Jetpack/9.WorkManager/">9.WorkManager</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/Jetpack/10.Navigation/">10.Navigation</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            NDK
                        </a>
                         <ul class="unstyled" id="tree" > 
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Android进阶之旅
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E6%97%85/12_makefile/">12_makefile</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E6%97%85/16_1_Cmake%E8%AF%AD%E6%B3%95/">16_1_Cmake语法</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E6%97%85/16_2_Cmake%E9%A1%B9%E7%9B%AE%E5%B8%B8%E7%94%A8/">16_2_Cmake项目常用</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E6%97%85/19_NDK%E9%9D%A2%E8%AF%95%E9%A2%98/">19_NDK面试题</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E6%97%85/11_%E7%BC%96%E8%AF%91%E6%B5%81%E7%A8%8B%E8%AF%A6%E8%A7%A3%E9%9D%99%E6%80%81%E5%BA%93%E4%B8%8E%E5%8A%A8%E6%80%81%E5%BA%93%E5%8E%9F%E7%90%86/">11_编译流程详解/静态库与动态库原理.md</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E6%97%85/13_android.mk/">13_android.mk</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E6%97%85/14_Application.mk/">14_Application.mk</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E6%97%85/15_Android.mk%E5%92%8CAndroid.bp%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB/">15_Android.mk和Android.bp对应关系.md</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E6%97%85/17_Shell%E8%84%9A%E6%9C%AC/">17_Shell脚本</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E6%97%85/18_NDK%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/">18_NDK环境配置</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E6%97%85/1_c%E5%9F%BA%E7%A1%80/">1_c基础</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E6%97%85/3_jni_native%E5%B1%82%E6%9E%84%E5%BB%BAjava%E5%AF%B9%E8%B1%A1/">3_jni_native层构建java对象</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E6%97%85/2_jni%E5%9F%BA%E7%A1%80/"></a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E6%97%85/4_jni_%E6%95%B0%E7%BB%84%E7%9A%84%E7%BB%86%E8%8A%82%E5%A4%84%E7%90%86/">4_jni_数组的细节处理</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E6%97%85/5_c%E8%BF%9B%E9%98%B6_%E5%86%85%E5%AD%98%E5%9B%9B%E9%A9%B1%E6%A8%A1%E5%9E%8B/">5_c进阶_内存四驱模型</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E6%97%85/7_%E9%93%B6%E8%A1%8C%E5%8D%A1%E8%AF%86%E5%88%AB/">7_银行卡识别.md</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E6%97%85/6_c++%E5%9F%BA%E7%A1%80/">6_c++基础</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E6%97%85/8_%E7%AE%97%E6%B3%95/">8_算法</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E6%97%85/9_%E9%9F%B3%E8%A7%86%E9%A2%91%E5%9F%BA%E7%A1%80/">9_音视频基础</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E6%97%85/20.jni%E6%96%B9%E6%B3%95%E5%A4%A7%E5%85%A8%E5%8F%8A%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B/">20.jni方法大全及使用示例</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            蒋超大佬扫盲
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/%E8%92%8B%E8%B6%85%E5%A4%A7%E4%BD%AC%E6%89%AB%E7%9B%B2/1.%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">1.基础知识</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/%E8%92%8B%E8%B6%85%E5%A4%A7%E4%BD%AC%E6%89%AB%E7%9B%B2/CMake%E8%AF%AD%E6%B3%95/">CMake语法</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/%E8%92%8B%E8%B6%85%E5%A4%A7%E4%BD%AC%E6%89%AB%E7%9B%B2/2.Cmake%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">2.Cmake基础知识</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/%E8%92%8B%E8%B6%85%E5%A4%A7%E4%BD%AC%E6%89%AB%E7%9B%B2/3.JNI%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">3.JNI数据类型</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/%E8%92%8B%E8%B6%85%E5%A4%A7%E4%BD%AC%E6%89%AB%E7%9B%B2/4.JavaVM/">JavaVM</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/%E8%92%8B%E8%B6%85%E5%A4%A7%E4%BD%AC%E6%89%AB%E7%9B%B2/5.OPUS%E7%BC%96%E8%AF%91/">5.opus编译</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/%E8%92%8B%E8%B6%85%E5%A4%A7%E4%BD%AC%E6%89%AB%E7%9B%B2/6.libusb/">6.libusb</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/%E8%92%8B%E8%B6%85%E5%A4%A7%E4%BD%AC%E6%89%AB%E7%9B%B2/7.mmkv%E7%BC%96%E8%AF%91/">7.mmkv编译</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/%E8%92%8B%E8%B6%85%E5%A4%A7%E4%BD%AC%E6%89%AB%E7%9B%B2/8.mqtt/">8.mqtt</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/%E8%92%8B%E8%B6%85%E5%A4%A7%E4%BD%AC%E6%89%AB%E7%9B%B2/9.%E5%87%BD%E6%95%B0%E7%AD%BE%E5%90%8D%E5%8F%8Andk%E8%B0%83%E7%94%A8java%E6%96%B9%E6%B3%95/">9.函数签名及ndk调用java方法</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/NDK/%E8%92%8B%E8%B6%85%E5%A4%A7%E4%BD%AC%E6%89%AB%E7%9B%B2/10.%E7%BA%BF%E7%A8%8B/">10.线程</a></li>  </ul> 
                    </li> 
                     </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            性能优化
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/leakcanary%E7%9A%84%E4%BD%BF%E7%94%A8/">Leakcanary的使用</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/1.App%E6%80%A7%E8%83%BD%E6%A6%82%E8%A7%88%E4%B8%8E%E5%B9%B3%E5%8F%B0%E5%8C%96%E5%AE%9E%E8%B7%B5/">1.App性能概览与平台化实践</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/2.App%E5%90%AF%E5%8A%A8%E4%BC%98%E5%8C%96/">2.App启动优化</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/3.%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/">3.内存优化</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/4.%E5%B8%83%E5%B1%80%E4%BC%98%E5%8C%96/">4.布局优化</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/5.%E5%8D%A1%E9%A1%BF%E4%BC%98%E5%8C%96/">5.卡顿优化</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/6.%E7%BA%BF%E7%A8%8B%E4%BC%98%E5%8C%96/">6.线程优化</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/7.%E7%BD%91%E7%BB%9C%E4%BC%98%E5%8C%96/">7.网络优化</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/8.%E7%94%B5%E9%87%8F%E4%BC%98%E5%8C%96/">8.电量优化</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/9.%E7%98%A6%E8%BA%AB%E4%BC%98%E5%8C%96/">9.瘦身优化</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/10.%E7%A8%B3%E5%AE%9A%E6%80%A7%E4%BC%98%E5%8C%96/">10.稳定性优化</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/11.%E4%B8%93%E9%A1%B9%E6%8A%80%E6%9C%AF%E4%BC%98%E5%8C%96/">11.专项技术优化</a></li>  </ul> 
                    </li> 
                     <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/java%20%E5%8F%8D%E5%B0%84%E5%8F%8A%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E5%88%9D%E6%AD%A5%E5%AD%A6%E4%B9%A0/">Java 反射及代理模式初步学习</a></li>  <li class="file"><a href="/wiki/Android%E8%BF%9B%E9%98%B6/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E5%BA%93Retrofit/">网络请求库Retrofit</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            C++
                        </a>
                         <ul class="unstyled" id="tree" > 
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            C++教程从0到1入门编程
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/wiki/C++/C++%E6%95%99%E7%A8%8B%E4%BB%8E0%E5%88%B01%E5%85%A5%E9%97%A8%E7%BC%96%E7%A8%8B/1.C++%E5%9F%BA%E7%A1%80/">C++基础</a></li>  <li class="file"><a href="/wiki/C++/C++%E6%95%99%E7%A8%8B%E4%BB%8E0%E5%88%B01%E5%85%A5%E9%97%A8%E7%BC%96%E7%A8%8B/2.C++%E6%8F%90%E9%AB%98/">C++提高</a></li>  <li class="file"><a href="/wiki/C++/C++%E6%95%99%E7%A8%8B%E4%BB%8E0%E5%88%B01%E5%85%A5%E9%97%A8%E7%BC%96%E7%A8%8B/3.C++%E6%A0%B8%E5%BF%83/">C++核心</a></li>  </ul> 
                    </li> 
                     <li class="file"><a href="/wiki/C++/window%E7%B3%BB%E7%BB%9F_vscode%E4%B8%AD%E9%85%8D%E7%BD%AE%20c++%E7%8E%AF%E5%A2%83/">Vscode中配置 C++环境</a></li>  <li class="file"><a href="/wiki/C++/%E8%BD%BB%E6%9D%BE%E6%90%9E%E5%AE%9AC++%E8%AF%AD%E8%A8%80/">轻松搞定C++语言</a></li>  <li class="file"><a href="/wiki/C++/%E8%BD%BB%E6%9D%BE%E6%90%9E%E5%AE%9AC%E8%AF%AD%E8%A8%80(%E6%8F%90%E9%AB%98%E7%AF%87)/">轻松搞定C语言(提高篇)</a></li>  <li class="file"><a href="/wiki/C++/%E5%BD%BB%E5%BA%95%E6%90%9E%E5%AE%9AC%E6%8C%87%E9%92%88/">彻底搞定C指针</a></li>  <li class="file"><a href="/wiki/C++/Linux%E7%B3%BB%E7%BB%9F_vscode%E4%B8%AD%E9%85%8D%E7%BD%AE%20c++%E7%8E%AF%E5%A2%83/">Linux系统_vscode中配置 c++环境.md</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            其他笔记
                        </a>
                         <ul class="unstyled" id="tree" > 
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Flutter
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/Android-Studio%E9%85%8D%E7%BD%AEFlutter/">Android-Studio配置Flutter</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/Flutter(Android-%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91)/">Flutter(Android-混合开发)</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/Flutter-Decoration%E8%83%8C%E6%99%AF%E8%AE%BE%E5%AE%9A%EF%BC%88%E8%BE%B9%E6%A1%86%E3%80%81%E5%9C%86%E8%A7%92%E3%80%81%E9%98%B4%E5%BD%B1%E3%80%81%E5%BD%A2%E7%8A%B6%E3%80%81%E6%B8%90%E5%8F%98%E3%80%81%E8%83%8C%E6%99%AF%E5%9B%BE%E5%83%8F%E7%AD%89%EF%BC%89/">Flutter-Decoration背景设定（边框、圆角、阴影、形状、渐变、背景图像等）</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/Flutter-%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E5%92%8C%E9%A1%B9%E7%9B%AE%E8%B5%84%E6%BA%90/">Flutter-目录结构和项目资源</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/Flutter%E4%B8%AD%E7%9A%84%E6%89%8B%E5%8A%BF%E5%A4%84%E7%90%86/">Flutter中的手势处理</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/Flutter%E4%B9%8BScaffold/">Flutter之Scaffold</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/Flutter-%E6%8E%A7%E4%BB%B6%E4%B9%8B-MaterialApp/">Flutter-控件之-MaterialApp</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/Flutter%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/">Flutter代码开发规范</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/StatelessWidget%E5%92%8CStatefulWidget%E7%9A%84%E5%8C%BA%E5%88%AB/">StatelessWidget和StatefulWidget的区别</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter-BottomAppBar-%EF%BC%88%E4%B8%8D%E8%A7%84%E5%88%99%E5%BA%95%E9%83%A8%E5%B7%A5%E5%85%B7%E6%A0%8F%EF%BC%89/">Flutter-BottomAppBar-（不规则底部工具栏）</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter-BottomNavigationBar%E7%B1%BB/">Flutter-BottomNavigationBar类</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter-Chip/">Flutter-Chip</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter-ExpansionTile(%E9%97%AD%E5%90%88%E5%88%97%E8%A1%A8)/">Flutter-ExpansionTile(闭合列表)</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter-Flexible%E5%92%8C-Expanded/">Flutter-Flexible和-Expanded</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter-ListTile(06)/">Flutter-ListTile(06)</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter-Padding/">Flutter-Padding</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter-Stack(%E5%B1%82%E5%8F%A0%E6%8E%A7%E4%BB%B6)/">Flutter-Stack(层叠控件)</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter-Text(02)/">Flutter-Text(02)</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter-card%EF%BC%88%E5%8D%A1%E7%89%87%E5%B8%83%E5%B1%80%EF%BC%89/">Flutter-Card（卡片布局）</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter-gridView/">Flutter-gridView</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter-listview(07)/">Flutter-Listview(07)</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter-mainAxisAlignment%E5%92%8CcrossAxisAlignment/">Flutter-mainAxisAlignment和crossAxisAlignment</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter-%E5%8D%95%E9%80%89%E6%A1%86%E5%92%8C%E5%A4%8D%E9%80%89%E6%A1%86(05)/">Flutter-单选框和复选框(05)</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter-%E5%9B%BE%E7%89%87(04)/">Flutter-图片(04)</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter-%E5%AF%BC%E8%88%AA%E8%BF%94%E5%9B%9E%E6%8B%A6%E6%88%AAWillPopScope(%E9%98%B2%E8%AF%AF%E8%A7%A6)/">Flutter-导航返回拦截WillPopScope(防误触)</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter-%E5%B1%82%E5%8F%A0%E5%B8%83%E5%B1%80Stack%E3%80%81Positioned/">Flutter-层叠布局Stack、Positioned</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter-%E5%BC%B9%E6%80%A7%E5%B8%83%E5%B1%80Flex/">Flutter-弹性布局Flex</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter-%E6%8C%89%E9%92%AE(03)/">Flutter-按钮(03)</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter-%E6%B5%81%E5%BC%8F%E5%B8%83%E5%B1%80Wrap%E3%80%81Flow/">Flutter-流式布局Wrap、Flow</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter-%E7%BA%BF%E6%80%A7%E5%B8%83%E5%B1%80Row%E5%92%8CColumn-1/">Flutter-线性布局Row和Column-1</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter-%E7%BA%BF%E6%80%A7%E5%B8%83%E5%B1%80Row%E5%92%8CColumn/">Flutter-线性布局Row和Column</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter-%E8%BE%93%E5%85%A5%E6%A1%86%E5%92%8C%E6%A0%87%E7%82%B9/">Flutter-输入框和标点</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter-%E9%A2%9C%E8%89%B2%E6%B8%90%E5%8F%98/">Flutter-颜色渐变</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8(01)/">Flutter基础使用(01)</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/Flutter/flutter%E7%AE%80%E4%BB%8B/">Flutter简介</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            QT
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/QT/QT-Creator%E5%AE%89%E8%A3%85/">QT-Creator安装</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            svn配置及使用
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/svn%E9%85%8D%E7%BD%AE%E5%8F%8A%E4%BD%BF%E7%94%A8/svn%E4%B8%8B%E8%BD%BD%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93/">Svn下载远程仓库</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/svn%E9%85%8D%E7%BD%AE%E5%8F%8A%E4%BD%BF%E7%94%A8/svn%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE/">Svn客户端安装和配置</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/svn%E9%85%8D%E7%BD%AE%E5%8F%8A%E4%BD%BF%E7%94%A8/svn%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE/">Svn服务端安装和配置</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/svn%E9%85%8D%E7%BD%AE%E5%8F%8A%E4%BD%BF%E7%94%A8/svn%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/">Svn的基本操作</a></li>  </ul> 
                    </li> 
                     <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/win11%E8%87%AA%E5%8A%A8%E5%85%B3%E6%9C%BA/">Win11自动关机</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/%E6%88%91%E7%9A%84%E7%AE%80%E5%8E%86/">我的简历</a></li>  <li class="file"><a href="/wiki/%E5%85%B6%E4%BB%96%E7%AC%94%E8%AE%B0/csdn%E6%96%87%E7%AB%A0%E5%AF%BC%E5%87%BAmarkdown/">Csdn文章导出到本地markdown</a></li>  </ul> 
                    </li> 
                     </ul> 
    </div>
    <script>
        $(document).ready(function() {
            var iconFolderOpenClass  = 'fa-folder-open';
            var iconFolderCloseClass = 'fa-folder';
            var iconAllExpandClass = 'fa-angle-double-down';
            var iconAllPackClass = 'fa-angle-double-up';
            // Handle directory-tree expansion:
            // 左键单独展开目录
            $(document).on('click', '#categories a[data-role="directory"]', function (event) {
                event.preventDefault();

                var icon = $(this).children('.fa');
                var expanded = icon.hasClass(iconFolderOpenClass);
                var subtree = $(this).siblings('ul');
                icon.removeClass(iconFolderOpenClass).removeClass(iconFolderCloseClass);
                if (expanded) {
                    if (typeof subtree != 'undefined') {
                        subtree.slideUp({ duration: 100 });
                    }
                    icon.addClass(iconFolderCloseClass);
                } else {
                    if (typeof subtree != 'undefined') {
                        subtree.slideDown({ duration: 100 });
                    }
                    icon.addClass(iconFolderOpenClass);
                }
            });
            // 右键展开下属所有目录
            $('#categories a[data-role="directory"]').bind("contextmenu", function(event){
                event.preventDefault();
                
                var icon = $(this).children('.fa');
                var expanded = icon.hasClass(iconFolderOpenClass);
                var listNode = $(this).siblings('ul');
                var subtrees = $.merge(listNode.find('li ul'), listNode);
                var icons = $.merge(listNode.find('.fa'), icon);
                icons.removeClass(iconFolderOpenClass).removeClass(iconFolderCloseClass);
                if(expanded) {
                    subtrees.slideUp({ duration: 100 });
                    icons.addClass(iconFolderCloseClass);
                } else {
                    subtrees.slideDown({ duration: 100 });
                    icons.addClass(iconFolderOpenClass);
                }
            })
            // 展开关闭所有目录按钮
            $(document).on('click', '#allExpand', function (event) {
                event.preventDefault();
                
                var icon = $(this).children('.fa');
                var expanded = icon.hasClass(iconAllExpandClass);
                icon.removeClass(iconAllExpandClass).removeClass(iconAllPackClass);
                if(expanded) {
                    $('#sidebar .fa.fa-folder').removeClass('fa-folder').addClass('fa-folder-open')
                    $('#categories li ul').slideDown({ duration: 100 });
                    icon.addClass(iconAllPackClass);
                } else {
                    $('#sidebar .fa.fa-folder-open').removeClass('fa-folder-open').addClass('fa-folder')
                    $('#categories li ul').slideUp({ duration: 100 });
                    icon.addClass(iconAllExpandClass);
                }
            });  
        });
    </script>

    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>
            
            <section id="main">
        <article id="post-Android FrameWork/dumpsys命令用法" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
                    <div class="article-meta">
                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Android-FrameWork/">Android FrameWork</a>
    </div>

                        
                        
  



                        
                        
                    </div>
                
                
   

            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
        
            
        
        
            <p><code>dumpsys</code> 是一个用于在 Android 系统中获取各种信息的命令。它提供了系统状态、应用程序、服务、进程、内存使用情况、网络连接等方面的详细信息。</p>
<p><strong>dumpsys命令的语法结构如下：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dumpsys [options] [service | name]</span><br><span class="line">其中：</span><br><span class="line">options 是可选的命令选项，用于指定不同的输出参数。</span><br><span class="line">service | name 是可选的服务或名称，用于指定你想要获取信息的特定服务或应用程序名称。</span><br></pre></td></tr></table></figure>

<p><strong>dumpsys命令用法</strong></p>
<p>可通过dumpsys命令查询系统服务的运行状态(对象的成员变量属性值)，命令格式：dumpsys 服务名， 例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dumpsys activity //查询AMS服务相关信息</span><br><span class="line">dumpsys window //查询WMS服务相关信息</span><br><span class="line">dumpsys cpuinfo //查询CPU情况</span><br><span class="line">dumpsys meminfo //查询内存情况</span><br><span class="line">dumpsys activity &gt; text.txt//将查询到的信息写到执行文件</span><br><span class="line">dumpsys activity | grep xx //查询结果中再进行指定筛选条件</span><br></pre></td></tr></table></figure>

<p>可查询的服务有很多，可通过下面任一命令查看当前系统所支持的dump服务：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">adb shell dumpsys -l</span><br><span class="line">adb shell service list</span><br></pre></td></tr></table></figure>

<p><strong>系统服务</strong></p>
<p>表一：</p>
<table>
<thead>
<tr>
<th align="left">服务名</th>
<th align="left">类名</th>
<th align="left">功能</th>
</tr>
</thead>
<tbody><tr>
<td align="left">activity</td>
<td align="left">ActivityManagerService</td>
<td align="left">AMS相关信息</td>
</tr>
<tr>
<td align="left">package</td>
<td align="left">PackageManagerService</td>
<td align="left">PMS相关信息</td>
</tr>
<tr>
<td align="left">window</td>
<td align="left">WindowManagerService</td>
<td align="left">WMS相关信息</td>
</tr>
<tr>
<td align="left">input</td>
<td align="left">InputManagerService</td>
<td align="left">IMS相关信息</td>
</tr>
<tr>
<td align="left">power</td>
<td align="left">PowerManagerService</td>
<td align="left">PMS相关信息</td>
</tr>
<tr>
<td align="left">batterystats</td>
<td align="left">BatterystatsService</td>
<td align="left">电池统计信息</td>
</tr>
<tr>
<td align="left">battery</td>
<td align="left">BatteryService</td>
<td align="left">电池信息</td>
</tr>
<tr>
<td align="left">alarm</td>
<td align="left">AlarmManagerService</td>
<td align="left">闹钟信息</td>
</tr>
<tr>
<td align="left">dropbox</td>
<td align="left">DropboxManagerService</td>
<td align="left">调试相关</td>
</tr>
<tr>
<td align="left">procstats</td>
<td align="left">ProcessStatsService</td>
<td align="left">进程统计</td>
</tr>
<tr>
<td align="left">cpuinfo</td>
<td align="left">CpuBinder</td>
<td align="left">CPU</td>
</tr>
<tr>
<td align="left">meminfo</td>
<td align="left">MemBinder</td>
<td align="left">内存</td>
</tr>
<tr>
<td align="left">gfxinfo</td>
<td align="left">GraphicsBinder</td>
<td align="left">图像</td>
</tr>
<tr>
<td align="left">dbinfo</td>
<td align="left">DbBinder</td>
<td align="left">数据库</td>
</tr>
</tbody></table>
<p>表二：</p>
<table>
<thead>
<tr>
<th align="left">服务名</th>
<th align="left">功能</th>
</tr>
</thead>
<tbody><tr>
<td align="left">SurfaceFlinger</td>
<td align="left">图像相关</td>
</tr>
<tr>
<td align="left">appops</td>
<td align="left">app使用情况</td>
</tr>
<tr>
<td align="left">permission</td>
<td align="left">权限</td>
</tr>
<tr>
<td align="left">processinfo</td>
<td align="left">进程服务</td>
</tr>
<tr>
<td align="left">batteryproperties</td>
<td align="left">电池相关</td>
</tr>
<tr>
<td align="left">audio</td>
<td align="left">查看声音信息</td>
</tr>
<tr>
<td align="left">netstats</td>
<td align="left">查看网络统计信息</td>
</tr>
<tr>
<td align="left">diskstats</td>
<td align="left">查看空间free状态</td>
</tr>
<tr>
<td align="left">jobscheduler</td>
<td align="left">查看任务计划</td>
</tr>
<tr>
<td align="left">wifi</td>
<td align="left">wifi信息</td>
</tr>
<tr>
<td align="left">diskstats</td>
<td align="left">磁盘情况</td>
</tr>
<tr>
<td align="left">usagestats</td>
<td align="left">用户使用情况</td>
</tr>
<tr>
<td align="left">devicestoragemonitor</td>
<td align="left">设备信息</td>
</tr>
<tr>
<td align="left">…</td>
<td align="left">…</td>
</tr>
</tbody></table>

            </div>
        
        <footer class="article-footer">
        </footer>
    </div>
</article>






    
        <article id="post-Android FrameWork/使用 git add -p 整理 patch" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
                    <div class="article-meta">
                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Android-FrameWork/">Android FrameWork</a>
    </div>

                        
                        
  



                        
                        
                    </div>
                
                
   

            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
        
            
        
        
            <p> 获取2次代码改动的对应代码及行数信息</p>
<p><strong>patch介绍</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-p, --patch</span><br><span class="line">交互地在索引和工作树之间选择补丁块并将它们添加到索引中。这让用户有机会在将修改后的内容添加到索引之前查看差异。</span><br><span class="line">这可以有效地运行 add --interactive，但是会绕过初始命令菜单，而直接跳转到 patch 子命令。有关详细信息。</span><br></pre></td></tr></table></figure>

<p><strong>使用：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">git add -p</span><br><span class="line"></span><br><span class="line">commit b329f455f522487133975df6bcaad461d6963d3a</span><br><span class="line">Author: Your Name &lt;you@example.com&gt;</span><br><span class="line">Date:   Tue Apr 25 16:33:09 2023 +0800</span><br><span class="line">    simple doublescreen move task to other</span><br><span class="line">diff --git a/services/core/java/com/android/server/wm/DisplayContent.java b/services/core/java/com/android/server/wm/DisplayContent.java</span><br><span class="line">index a03dce364209..695c300b51fd 100644</span><br><span class="line">--- a/services/core/java/com/android/server/wm/DisplayContent.java</span><br><span class="line">+++ b/services/core/java/com/android/server/wm/DisplayContent.java</span><br><span class="line"></span><br><span class="line">+ import com.android.server.DoubleScreenMovePointerEventListener;</span><br><span class="line">...</span><br><span class="line">(1/1) Stage this hunk [y,n,q,a,d,e,?]? </span><br></pre></td></tr></table></figure>

<p>输入 <code>git add -p</code> 进入 <code>patch mode</code> , 此时 <code>git</code> 会自动将改动切分成多个片段，并展示第一个片段，提示你进行选择。</p>
<p>提示语句是 <code>Stage this hunk [y,n,q,a,d,/,s,e,?]?</code></p>
<p>这些字母都是什么意思呢? 输入<code>?</code>回车，可以查看详细的帮助信息:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">y - 暂存此区块</span><br><span class="line">n - 不暂存此区块</span><br><span class="line">q - 退出；不暂存包括此块在内的剩余的区块</span><br><span class="line">a - 暂存此块与此文件后面所有的区块</span><br><span class="line">d - 不暂存此块与此文件后面所有的 区块</span><br><span class="line">g - 选择并跳转至一个区块</span><br><span class="line">/ - 搜索与给定正则表达示匹配的区块</span><br><span class="line">j - 暂不决定，转至下一个未决定的区块</span><br><span class="line">J - 暂不决定，转至一个区块</span><br><span class="line">k - 暂不决定，转至上一个未决定的区块</span><br><span class="line">K - 暂不决定，转至上一个区块</span><br><span class="line">s - 将当前的区块分割成多个较小的区块</span><br><span class="line">e - 手动编辑当前的区块</span><br><span class="line">? - 输出帮助</span><br></pre></td></tr></table></figure>


            </div>
        
        <footer class="article-footer">
        </footer>
    </div>
</article>






    
        <article id="post-Android FrameWork/自定义服务" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
                    <div class="article-meta">
                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Android-FrameWork/">Android FrameWork</a>
    </div>

                        
                        
  



                        
                        
                    </div>
                
                
   

            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
        
            
        
        
            <p>常见的AMS、PWS、WMS等等都是系统服务，运行于system_server进程，并且向servicemanager进程注册其Binder以便其他进程获取binder与对应的服务进行通信。为了新增自定义系统服务，我们可以参考AMS等原生系统服务编写如下文件：</p>
<p>1、AIDL文件：生成Binder类，其中Stub即为Binder的服务端；</p>
<p>2、XXManagerService：系统服务类，继承自Stub；</p>
<p>3、XXManager：封装了AIDL接口方法的类，相当于Binder客户端（Proxy），其他进程通过此类完成与系统服务的通信。</p>
<h2 id="增加系统服务"><a href="#增加系统服务" class="headerlink" title="增加系统服务"></a>增加系统服务</h2><h3 id="1、AIDL"><a href="#1、AIDL" class="headerlink" title="1、AIDL"></a>1、AIDL</h3><p>在frameworks&#x2F;base&#x2F;core&#x2F;java&#x2F;com&#x2F;enjoy&#x2F;service中编写IEnjoyManager.aidl</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// IEnjoyManager.aidl</span></span><br><span class="line"><span class="keyword">package</span> com.enjoy.service;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Declare any non-default types here with import statements</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IEnjoyManager</span> &#123;</span><br><span class="line">   <span class="keyword">void</span> <span class="title function_">sendMessage</span><span class="params">(String msg)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在frameworks&#x2F;base&#x2F;Android.mk中声明AIDL文件：</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_SRC_FILES += ....</span><br><span class="line">    core/java/android/app/IActivityManager.aidl \</span><br><span class="line">    core/java/com/enjoy/service/IEnjoyManager.aidl \</span><br><span class="line">    ....</span><br></pre></td></tr></table></figure>

<h3 id="2、系统服务"><a href="#2、系统服务" class="headerlink" title="2、系统服务"></a>2、系统服务</h3><p>在frameworks&#x2F;base&#x2F;services&#x2F;core&#x2F;java&#x2F;com&#x2F;enjoy&#x2F;service中编写EnjoyManagerService.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.enjoy.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.os.RemoteException;</span><br><span class="line"><span class="keyword">import</span> android.util.Log;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EnjoyManagerService</span> <span class="keyword">extends</span> <span class="title class_">IEnjoyManager</span>.Stub &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">TAG</span> <span class="operator">=</span> <span class="string">&quot;Enjoy&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sendMessage</span><span class="params">(String msg)</span> <span class="keyword">throws</span> RemoteException &#123;</span><br><span class="line">        Log.i(TAG, <span class="string">&quot;sendMessage: &quot;</span> + msg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3、客户端代理"><a href="#3、客户端代理" class="headerlink" title="3、客户端代理"></a>3、客户端代理</h3><p>在frameworks&#x2F;base&#x2F;core&#x2F;java&#x2F;com&#x2F;enjoy&#x2F;service下编写EnjoyManager.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.enjoy.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.os.RemoteException;</span><br><span class="line"><span class="keyword">import</span> android.util.Log;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EnjoyManager</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">TAG</span> <span class="operator">=</span> <span class="string">&quot;Enjoy&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> IEnjoyManager service;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">EnjoyManager</span><span class="params">(IEnjoyManager service)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.service = service;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sendMessage</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            service.sendMessage(msg);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (RemoteException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>framework&#x2F;base&#x2F;Android.mk:</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">packages_to_document := \</span><br><span class="line">	android \</span><br><span class="line">	javax/microedition/khronos \</span><br><span class="line">	org/apache/http/conn \</span><br><span class="line">	org/apache/http/params \</span><br><span class="line">  	com/enjoy/service</span><br></pre></td></tr></table></figure>



<h3 id="4、修改Context"><a href="#4、修改Context" class="headerlink" title="4、修改Context"></a>4、修改Context</h3><p>在frameworks&#x2F;base&#x2F;core&#x2F;java&#x2F;android&#x2F;content&#x2F;Context.java中加入常量：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String ENJOY_SERVICE=<span class="string">&quot;enjoy&quot;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="5、注册系统服务"><a href="#5、注册系统服务" class="headerlink" title="5、注册系统服务"></a>5、注册系统服务</h3><p>在frameworks&#x2F;base&#x2F;services&#x2F;java&#x2F;com&#x2F;android&#x2F;server&#x2F;SystemServer.java中 注册系统服务</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.enjoy.service.EnjoyManagerService;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">startOtherServices</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//......</span></span><br><span class="line">	ServiceManager.addService(Context.ENJOY_SERVICE,<span class="keyword">new</span> <span class="title class_">EnjoyManagerService</span>());</span><br><span class="line">    <span class="comment">//......</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6、注册应用系统服务获取器"><a href="#6、注册应用系统服务获取器" class="headerlink" title="6、注册应用系统服务获取器"></a>6、注册应用系统服务获取器</h3><p>在frameworks&#x2F;base&#x2F;core&#x2F;java&#x2F;android&#x2F;app&#x2F;SystemServiceRegistry.java注册服务获取器：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.enjoy.service.IEnjoyManager;</span><br><span class="line"><span class="keyword">import</span> com.enjoy.service.EnjoyManager;</span><br><span class="line"><span class="keyword">static</span>&#123;</span><br><span class="line">    registerService(Context.ENJOY_SERVICE, EnjoyManager.class,</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">CachedServiceFetcher</span>&lt;EnjoyManager&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> EnjoyManager <span class="title function_">createService</span><span class="params">(ContextImpl ctx)</span> <span class="keyword">throws</span> ServiceNotFoundException  &#123;</span><br><span class="line">		 <span class="comment">// 获取服务</span></span><br><span class="line">		<span class="type">IBinder</span> <span class="variable">b</span> <span class="operator">=</span> ServiceManager.getServiceOrThrow(Context.ENJOY_SERVICE);</span><br><span class="line">		<span class="type">IEnjoyManager</span> <span class="variable">service</span> <span class="operator">=</span> IEnjoyManager.Stub.asInterface(b);</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">EnjoyManager</span>(service);</span><br><span class="line">            &#125;&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="7、配置SELinux权限"><a href="#7、配置SELinux权限" class="headerlink" title="7、配置SELinux权限"></a>7、配置SELinux权限</h3><p>system&#x2F;sepolicy&#x2F;private&#x2F;service_contexts</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">activity                                  u:object_r:activity_service:s0					   </span><br><span class="line">enjoy                                     u:object_r:enjoy_service:s0</span><br></pre></td></tr></table></figure>

<p>system&#x2F;sepolicy&#x2F;public&#x2F;service.te:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">type activity_service, app_api_service, ephemeral_app_api_service, system_server_service, service_manager_type;</span><br><span class="line">type enjoy_service, app_api_service, ephemeral_app_api_service, system_server_service, service_manager_type;</span><br></pre></td></tr></table></figure>

<p>system&#x2F;sepolicy&#x2F;private&#x2F;untrusted_app_all.te  :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">allow untrusted_app enjoy_service:service_manager find;</span><br></pre></td></tr></table></figure>



<h3 id="8、配置白名单"><a href="#8、配置白名单" class="headerlink" title="*8、配置白名单"></a>*8、配置白名单</h3><p>如果以当前案例的方式新增自定义系统服务，因为SystemServiceRegistry 中需要使用到<code>com.enjoy</code>下的类，为了让其获取此包下类的引用，需要配置：build&#x2F;core&#x2F;tasks&#x2F;check_boot_jars&#x2F;package_whitelist.txt ，加入：<code>com\.enjoy\..* </code>。否则会因为无法获取类引用而编译报错！</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dalvik\..*</span><br><span class="line">libcore\..*</span><br><span class="line">android\..*</span><br><span class="line">com\.android\..*</span><br><span class="line">com\.enjoy\..*  </span><br></pre></td></tr></table></figure>



<blockquote>
<p>若新增的服务像AMS等原有系统服务的IActivityManager.aidl与ActivityManager一样放在<code>android.app</code>包下即可不用进行此步处理！</p>
</blockquote>
<h3 id="9、编译并刷机"><a href="#9、编译并刷机" class="headerlink" title="9、编译并刷机"></a>9、编译并刷机</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">编译</span></span><br><span class="line">make update-api</span><br><span class="line">make –j4 </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">刷机</span></span><br><span class="line">adb reboot bootloader</span><br><span class="line">reboot flashall -w</span><br></pre></td></tr></table></figure>

<h3 id="10、使用自定义服务"><a href="#10、使用自定义服务" class="headerlink" title="10、使用自定义服务"></a>10、使用自定义服务</h3><h4 id="10-1-利用双亲委托机制"><a href="#10-1-利用双亲委托机制" class="headerlink" title="10.1 利用双亲委托机制"></a>10.1 利用双亲委托机制</h4><p>在需要使用自定义服务的app中编写EnjoyManager（包名与framework中一致）：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.enjoy.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.os.RemoteException;</span><br><span class="line"><span class="keyword">import</span> android.util.Log;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EnjoyManager</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sendMessage</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">       </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>此时由于类加载的双亲委托机制，app在运行时实际使用的是framework中的EnjoyManager。app中的EnjoyManager仅仅只是为了编译成功编写的空壳。</p>
<h4 id="10-2-修改SDK"><a href="#10-2-修改SDK" class="headerlink" title="10.2 修改SDK"></a>10.2 修改SDK</h4><p>修改app使用的sdk，可以通过<code>make sdk</code> 将SDK完成编译出来。也可以直接在out&#x2F;target&#x2F;common&#x2F;obj&#x2F;JAVA_LIBRARIES&#x2F;framework_intermediates中找到EnjoyManager类将其加入原生SDK中的android.jar</p>
<h2 id="SystemService"><a href="#SystemService" class="headerlink" title="SystemService"></a>SystemService</h2><p>系统服务需要通过<code>ServiceManager.addService(&quot;xx&quot;, new XXManagerService);</code>将自己（Binder Stub）注册进入SM才能够让其他进程利用Binder与之通信。而自定义系统服务如果需要根据系统启动的不同阶段进行不同的处理则需要注册生命周期回调。以AMS为例：</p>
<p>&#x2F;frameworks&#x2F;base&#x2F;services&#x2F;java&#x2F;com&#x2F;android&#x2F;server&#x2F;SystemService中启动AMS：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">startBootstrapServices</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">    <span class="comment">// Activity manager runs the show.</span></span><br><span class="line">    traceBeginAndSlog(<span class="string">&quot;StartActivityManager&quot;</span>);</span><br><span class="line">    mActivityManagerService = mSystemServiceManager.startService(</span><br><span class="line">                    ActivityManagerService.Lifecycle.class).getService();</span><br><span class="line">    mActivityManagerService.setSystemServiceManager(mSystemServiceManager);</span><br><span class="line">    mActivityManagerService.setInstaller(installer);</span><br><span class="line">    traceEnd(); </span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">    mActivityManagerService.setSystemProcess();</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>AMS中的setSystemProcess方法的实现为：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSystemProcess</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">            </span><br><span class="line">	ServiceManager.addService(Context.ACTIVITY_SERVICE, <span class="built_in">this</span>, <span class="comment">/* allowIsolated= */</span> <span class="literal">true</span>,</span><br><span class="line">                    DUMP_FLAG_PRIORITY_CRITICAL | DUMP_FLAG_PRIORITY_NORMAL | DUMP_FLAG_PROTO);</span><br><span class="line">    </span><br><span class="line">	<span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>setSystemProcess中会完成向SM注册AMS的实现。而在setSystemProcess之前有一段代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mActivityManagerService = mSystemServiceManager.startService(</span><br><span class="line">                   ActivityManagerService.Lifecycle.class).getService();</span><br></pre></td></tr></table></figure>

<p>则为注册生命周期监听，ActivityManagerService.Lifecycle就相当于生命周期的回调接口对象，它继承自：</p>
<p>&#x2F;frameworks&#x2F;base&#x2F;services&#x2F;core&#x2F;java&#x2F;com&#x2F;android&#x2F;server&#x2F;SystemService。这个SystemService中主要需要实现两个方法：</p>
<ul>
<li><p>onStart() ：mSystemServiceManager.startService第一时间回调该函数。</p>
</li>
<li><p>onBootPhase(int phase) ： 系统启动的各个阶段会回调该函数</p>
<ul>
<li>SystemService.PHASE_WAIT_FOR_DEFAULT_DISPLAY:这是一个依赖项，只有DisplayManagerService中进行了对应处理；</li>
<li>SystemService.PHASE_LOCK_SETTINGS_READY:经过这个引导阶段后，服务才可以接收到wakelock相关设置数据；</li>
<li>SystemService.PHASE_SYSTEM_SERVICES_READY:经过这个引导阶段 后，服务才可以安全地使用核心系统服务</li>
<li>SystemService.PHASE_ACTIVITY_MANAGER_READY:经过这个引导阶 段后，服务可以发送广播</li>
<li>SystemService.PHASE_THIRD_PARTY_APPS_CAN_START:经过这个引导阶段后，服务可以启动第三方应用，第三方应用也可以通过Binder来调用服务。</li>
<li>SystemService.PHASE_BOOT_COMPLETED:经过这个引导阶段后，说明服务启动完成，这时用户就可以和设备进行交互。</li>
</ul>
</li>
</ul>
<p>比如AMS中的Lifecycle：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">Lifecycle</span> <span class="keyword">extends</span> <span class="title class_">SystemService</span> &#123;</span><br><span class="line">   	 	<span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onBootPhase</span><span class="params">(<span class="type">int</span> phase)</span> &#123;</span><br><span class="line">            mService.mBootPhase = phase;</span><br><span class="line">            <span class="keyword">if</span> (phase == PHASE_SYSTEM_SERVICES_READY) &#123;</span><br><span class="line">                mService.mBatteryStatsService.systemServicesReady();</span><br><span class="line">                mService.mServices.systemServicesReady();</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (phase == PHASE_ACTIVITY_MANAGER_READY) &#123;</span><br><span class="line">                <span class="comment">// 准备广播处理</span></span><br><span class="line">                mService.startBroadcastObservers();</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (phase == PHASE_THIRD_PARTY_APPS_CAN_START) &#123;</span><br><span class="line">                mService.mPackageWatchdog.onPackagesReady();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在AMS中会处理<code>PHASE_ACTIVITY_MANAGER_READY</code> ，经过这个阶段后，也就是需要在下一个阶段<code>PHASE_THIRD_PARTY_APPS_CAN_START</code>才可以发送广播。</p>
<h2 id="同步问题"><a href="#同步问题" class="headerlink" title="同步问题"></a>同步问题</h2><p>在修改了SDK之后，可能出现同步错误:<img src="/../../images/%E5%90%8C%E6%AD%A5.png" alt="同步"></p>
<p>此时我们需要去修改AGP插件中的一个类：<code>MockableJarGenerator</code></p>
<p>在我的工程当中当前使用的AGP版本为：7.2.1，从<code>C:\Users\Administrator\.gradle\caches\modules-2\files-2.1\com.android.tools.build\builder\7.2.1</code> 目录下找到<strong>builder-7.2.1-sources.jar</strong> 并将其解压，找到<code>com.android.builder.testing</code> 中的MockableJarGenerator。</p>
<p>将此类放入Android Studio工程app模块的单元测试中，并在app的gradle中加入：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;   </span><br><span class="line">	testImplementation <span class="string">&#x27;org.ow2.asm:asm:7.1&#x27;</span></span><br><span class="line">    testImplementation <span class="string">&#x27;org.ow2.asm:asm-commons:7.1&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//    testImplementation &#x27;com.google.guava:guava:23.6-jre&#x27;</span></span><br><span class="line">    testImplementation <span class="attr">group:</span><span class="string">&#x27;com.google.guava&#x27;</span>, <span class="attr">name:</span><span class="string">&#x27;guava&#x27;</span>, <span class="attr">version:</span><span class="string">&#x27;23.6-jre&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>操作步骤为：</p>
<p><img src="/../../images/AS%E9%85%8D%E7%BD%AE.png" alt="AS配置"></p>
<p>最后将<code>C:\Users\Administrator\.gradle\caches\modules-2\files-2.1\com.android.tools.build\builder\7.2.1</code>中<strong>builder-7.2.1.jar</strong>的<code>MockableJarGenerator.class</code>替换成刚刚编译的class文件。</p>

            </div>
        
        <footer class="article-footer">
        </footer>
    </div>
</article>






    
        <article id="post-Android Application/Android工具类/无障碍升级" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
                    <div class="article-meta">
                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Android-Application/">Android Application</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/Android-Application/Android%E5%B7%A5%E5%85%B7%E7%B1%BB/">Android工具类</a>
    </div>

                        
                        
  



                        
                        
                    </div>
                
                
   

            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
        
            
        
        
            <p>MyAccessibilityService：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">package com.withub.android.cloudsharingcourt.util;</span><br><span class="line"></span><br><span class="line">import android.accessibilityservice.AccessibilityService;</span><br><span class="line">import android.text.TextUtils;</span><br><span class="line">import android.view.accessibility.AccessibilityEvent;</span><br><span class="line">import android.view.accessibility.AccessibilityNodeInfo;</span><br><span class="line"></span><br><span class="line">import java.util.HashMap;</span><br><span class="line">import java.util.Map;</span><br><span class="line"></span><br><span class="line">public class MyAccessibilityService extends AccessibilityService &#123;</span><br><span class="line">    Map&lt;Integer, Boolean&gt; handledMap = new HashMap&lt;&gt;();</span><br><span class="line">    public MyAccessibilityService() &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    @Override</span><br><span class="line">    public void onAccessibilityEvent(AccessibilityEvent event) &#123;</span><br><span class="line">        AccessibilityNodeInfo nodeInfo = event.getSource();</span><br><span class="line">        if (nodeInfo != null) &#123;</span><br><span class="line">            int eventType = event.getEventType();</span><br><span class="line">            if (eventType== AccessibilityEvent.TYPE_WINDOW_CONTENT_CHANGED ||</span><br><span class="line">                    eventType == AccessibilityEvent.TYPE_WINDOW_STATE_CHANGED) &#123;</span><br><span class="line">                if (handledMap.get(event.getWindowId()) == null) &#123;</span><br><span class="line">                    boolean handled = iterateNodesAndHandle(nodeInfo);</span><br><span class="line">                    if (handled) &#123;</span><br><span class="line">                        handledMap.put(event.getWindowId(), true);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private boolean iterateNodesAndHandle(AccessibilityNodeInfo nodeInfo) &#123;</span><br><span class="line">        if (nodeInfo != null&amp;&amp;nodeInfo.getClassName()!=null&amp;&amp;!TextUtils.isEmpty(nodeInfo.getText())) &#123;</span><br><span class="line">            int childCount = nodeInfo.getChildCount();</span><br><span class="line">            if (&quot;android.widget.Button&quot;.equals(nodeInfo.getClassName())||&quot;android.widget.TextView&quot;.equals(nodeInfo.getClassName())) &#123;</span><br><span class="line">                String nodeContent = nodeInfo.getText().toString();</span><br><span class="line">                if (&quot;安装&quot;.equals(nodeContent)</span><br><span class="line">                        ||&quot;打开&quot;.equals(nodeContent)</span><br><span class="line">                        ||&quot;完成&quot;.equals(nodeContent)</span><br><span class="line">                        || &quot;确定&quot;.equals(nodeContent)</span><br><span class="line">                        || &quot;下一步&quot;.equals(nodeContent)</span><br><span class="line">                        || &quot;确认&quot;.equals(nodeContent)</span><br><span class="line">                        || &quot;继续安装&quot;.equals(nodeContent)) &#123;</span><br><span class="line">                    nodeInfo.performAction(AccessibilityNodeInfo.ACTION_CLICK);</span><br><span class="line">                    return true;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; else if (&quot;android.widget.ScrollView&quot;.equals(nodeInfo.getClassName())) &#123;</span><br><span class="line">                nodeInfo.performAction(AccessibilityNodeInfo.ACTION_SCROLL_FORWARD);</span><br><span class="line">            &#125;</span><br><span class="line">            for (int i = 0; i &lt; childCount; i++) &#123;</span><br><span class="line">                AccessibilityNodeInfo childNodeInfo = nodeInfo.getChild(i);</span><br><span class="line">                if (iterateNodesAndHandle(childNodeInfo)) &#123;</span><br><span class="line">                    return true;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void onInterrupt() &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//清单文件中注册</span><br><span class="line">&lt;service</span><br><span class="line">         android:name=&quot;.util.MyAccessibilityService&quot;</span><br><span class="line">         android:label=&quot;自动智能安装&quot;</span><br><span class="line">         android:permission=&quot;android.permission.BIND_ACCESSIBILITY_SERVICE&quot;&gt;</span><br><span class="line">         &lt;intent-filter&gt;</span><br><span class="line">             &lt;action android:name=&quot;android.accessibilityservice.AccessibilityService&quot; /&gt;</span><br><span class="line">         &lt;/intent-filter&gt;</span><br><span class="line"></span><br><span class="line">         &lt;meta-data</span><br><span class="line">             android:name=&quot;android.accessibilityservice&quot;</span><br><span class="line">             android:resource=&quot;@xml/accessibility_service_config&quot; /&gt;</span><br><span class="line">     &lt;/service&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//检查是否已开启无障碍自动安装权限</span><br><span class="line">//用法：boolean enabled = isAccessibilityServiceEnabled(mContent, MyAccessibilityService.class);</span><br><span class="line">public boolean isAccessibilityServiceEnabled(Context context, Class&lt;? extends AccessibilityService&gt; service) &#123;</span><br><span class="line">    AccessibilityManager am = (AccessibilityManager) context.getSystemService(Context.ACCESSIBILITY_SERVICE);</span><br><span class="line">    List&lt;AccessibilityServiceInfo&gt; enabledServices = am.getEnabledAccessibilityServiceList(AccessibilityServiceInfo.FEEDBACK_ALL_MASK);</span><br><span class="line"></span><br><span class="line">    for (AccessibilityServiceInfo enabledService : enabledServices) &#123;</span><br><span class="line">        ServiceInfo enabledServiceInfo = enabledService.getResolveInfo().serviceInfo;</span><br><span class="line">        if (enabledServiceInfo.packageName.equals(context.getPackageName()) &amp;&amp; enabledServiceInfo.name.equals(service.getName()))</span><br><span class="line">            return true;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//跳转到设置开启无障碍模式页面；</span><br><span class="line">Intent intent = new Intent(Settings.ACTION_ACCESSIBILITY_SETTINGS);</span><br><span class="line">mContent.startActivity(intent);</span><br></pre></td></tr></table></figure>


            </div>
        
        <footer class="article-footer">
        </footer>
    </div>
</article>






    
        <article id="post-Android进阶/NDK/Android进阶之旅/19_NDK面试题" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
                    <div class="article-meta">
                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Android%E8%BF%9B%E9%98%B6/">Android进阶</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/Android%E8%BF%9B%E9%98%B6/NDK/">NDK</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/Android%E8%BF%9B%E9%98%B6/NDK/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E6%97%85/">Android进阶之旅</a>
    </div>

                        
                        
  



                        
                        
                    </div>
                
                
   

            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
        
            
        
        
            <p> <strong>一、谈谈你对 JNI 和 NDK 的理解</strong></p>
<p>JNI：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">JNI 是 `Java Native Interface` 的缩写，即 Java 的本地接口。</span><br><span class="line">目的是使得 Java 与本地其他语言（如 C/C++）进行交互。</span><br><span class="line">JNI 是属于 Java 的，与 Android 无直接关系。</span><br></pre></td></tr></table></figure>

<p>NDK：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">NDK 是 `Native Development Kit` 的缩写，是 Android 的工具开发包。</span><br><span class="line">作用是更方便和快速开发 C/C++ 的动态库，并自动将动态库与应用一起打包到 apk。</span><br><span class="line">NDK 是属于 Android 的，与 Java 无直接关系。</span><br></pre></td></tr></table></figure>

<p>总结：</p>
<p>JNI 是实现的目的，NDK 是 Android 中实现 JNI 的手段。</p>
<p><strong>二、谈谈你对 JNIEnv 和 JavaVM 理解</strong></p>
<p>JavaVM</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">JavaVM 是虚拟机在 JNI 层的代表。</span><br><span class="line">一个进程只有一个 JavaVM。（重要！）</span><br><span class="line">所有的线程共用一个 JavaVM。（重要！）</span><br></pre></td></tr></table></figure>

<p>JNIEnv</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">JNIEnv 表示Java调用native语言的环境，封装了几乎全部 JNI 方法的指针。</span><br><span class="line">JNIEnv 只在创建它的线程生效，不能跨线程传递，不同线程的 JNIEnv 彼此独立。（重要！）</span><br></pre></td></tr></table></figure>

<p>注意：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">在 native 环境下创建的线程，要想和 java 通信，即需要获取一个 JNIEnv 对象。我们通过 `AttachCurrentThread` 和</span><br><span class="line">	`DetachCurrentThread` 方法将 native 的线程与 JavaVM 关联和解除关联。</span><br></pre></td></tr></table></figure>

<p><strong>三、解释一下 JNI 中全局引用和局部引用的区别和使用</strong></p>
<p>全局引用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">通过 `NewGlobalRef` 和 `DeleteGlobalRef` 方法创建和释放一个全局引用。</span><br><span class="line">全局引用能在多个线程中被使用，且不会被 GC 回收，只能手动释放。</span><br></pre></td></tr></table></figure>

<p>局部引用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">通过 `NewLocalRef` 和 `DeleteLocalRef` 方法创建和释放一个局部引用。</span><br><span class="line">局部引用只在创建它的 native 方法中有效，包括其调用的其它函数中有效。因此我们不能寄望于将一个局部引用直接保存在全局变量中下次</span><br><span class="line">	使用（请使用全局引用实现该需求）。</span><br><span class="line">我们可以不用删除局部引用，它们会在 native 方法返回时全部自动释放，但是建议对于不再使用的局部引用手动释放，避免内存过度使用。</span><br></pre></td></tr></table></figure>

<p>扩展：弱全局引用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">通过 `NewWeakGlobalRef` 和 `DeleteWeakGlobalRef` 创建和释放一个弱全局引用。</span><br><span class="line"></span><br><span class="line">弱全局引用类似于全局引用，唯一的区别是它不会阻止被 GC 回收。</span><br></pre></td></tr></table></figure>

<p><strong>四、JNI 线程间数据怎么互相访问</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">考察点和上体类似，线程本来就是共享内存区域的，因此我们需要使用 `全局引用`。</span><br></pre></td></tr></table></figure>

<p><strong>五、怎么定位 NDK 中的问题和错误</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">一般在开发阶段的话，我们可以通过 log 来定位和分析问题。</span><br><span class="line"></span><br><span class="line">如果是上线状态（即关闭了基本的 log），我们可以借助 NDK 提供的 `addr2line` 工具和 `objdump` 工具来定位错误。详情：</span><br><span class="line"></span><br><span class="line">[so 动态库崩溃问题定位（addr2line与objdump）](https://blog.csdn.net/afei__/article/details/81181827)</span><br><span class="line"></span><br><span class="line">其它还可以使用 C/C++ 的一些分析工具。</span><br></pre></td></tr></table></figure>

<p><strong>六、静态注册和动态注册</strong></p>
<p>静态注册：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">通过 `JNIEXPORT` 和 `JNICALL` 两个宏定义声明，`Java + 包名 + 类名 + 方法名` 形式的函数名。不好的地方就是方法名太长了。</span><br></pre></td></tr></table></figure>

<p>动态注册：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">通常在 `JNI_OnLoad` 方法中通过 `RegisterNatives` 方法注册，可以不再遵从固定的命名写法（当然为了代码容易理解，名称还是</span><br><span class="line">尽量和 Java 中保持一致）。</span><br></pre></td></tr></table></figure>

<p><strong>七、API</strong></p>
<p>有的变态题目还是会考验你一些 API 的运用，比如怎么在 JNI 里面调用 Java 的方法，怎么在 JNI 里面抛异常等等。所以一些 API 还是要熟悉一下的，大致都是什么功能，名字大致是啥呀，这个太多了，看链接介绍吧：</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/afei__/article/details/81016413">JNI 方法大全及使用示例</a></p>

            </div>
        
        <footer class="article-footer">
        </footer>
    </div>
</article>






    
        <article id="post-Android进阶/NDK/Android进阶之旅/16_2_Cmake项目常用" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
                    <div class="article-meta">
                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Android%E8%BF%9B%E9%98%B6/">Android进阶</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/Android%E8%BF%9B%E9%98%B6/NDK/">NDK</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/Android%E8%BF%9B%E9%98%B6/NDK/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E6%97%85/">Android进阶之旅</a>
    </div>

                        
                        
  



                        
                        
                    </div>
                
                
   

            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
        
            
        
        
            <p>#framework学友提供</p>
<h4 id="一-cmake-版本号声明"><a href="#一-cmake-版本号声明" class="headerlink" title="一. cmake 版本号声明"></a>一. cmake 版本号声明</h4><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 声明一个我们使用的最小版本</span></span><br><span class="line"><span class="keyword">cmake_minimum_required</span>(VERSION <span class="number">3.10</span>.<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h4 id="二-设置项目名称"><a href="#二-设置项目名称" class="headerlink" title="二. 设置项目名称"></a>二. 设置项目名称</h4><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这个项目名称一般和生成的库名称相同</span></span><br><span class="line"><span class="keyword">project</span>(<span class="keyword">test</span>)</span><br></pre></td></tr></table></figure>

<h4 id="三-添加头文件搜索目录"><a href="#三-添加头文件搜索目录" class="headerlink" title="三. 添加头文件搜索目录"></a>三. 添加头文件搜索目录</h4><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">include_directories</span>(../../../<span class="keyword">include</span>)</span><br></pre></td></tr></table></figure>

<h4 id="四-添加源文件"><a href="#四-添加源文件" class="headerlink" title="四. 添加源文件"></a>四. 添加源文件</h4><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用变量添加</span></span><br><span class="line"><span class="keyword">set</span>(SOURCES <span class="keyword">test</span>.cpp  xxx.cpp)</span><br><span class="line"><span class="comment"># 添加所有</span></span><br><span class="line"><span class="keyword">FILE</span>(GLOB SRCS <span class="string">&quot;*.CPP&quot;</span> <span class="string">&quot;*.h&quot;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="五-生成一个库"><a href="#五-生成一个库" class="headerlink" title="五. 生成一个库"></a>五. 生成一个库</h4><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">add_library</span>( <span class="comment"># Sets the name of the library.</span></span><br><span class="line">        srt-lib         <span class="comment"># 库的名字</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Sets the library as a shared library.</span></span><br><span class="line">        SHARED          <span class="comment"># 动态库</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Provides a relative path to your source file(s).</span></span><br><span class="line">        srt-lib.cpp   srt1-lib.cpp)    <span class="comment"># 源文件列表</span></span><br></pre></td></tr></table></figure>

<h4 id="六-搜索一个库-预构建库"><a href="#六-搜索一个库-预构建库" class="headerlink" title="六. 搜索一个库(预构建库)"></a>六. 搜索一个库(预构建库)</h4><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">find_library</span>( <span class="comment"># Sets the name of the path variable.</span></span><br><span class="line">        log-lib   <span class="comment"># 可以理解别名</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Specifies the name of the NDK library that</span></span><br><span class="line">        <span class="comment"># you want CMake to locate.</span></span><br><span class="line">        log    <span class="comment"># 这个是liblog.so 在ndk目录中自带的一个库</span></span><br><span class="line">        )</span><br></pre></td></tr></table></figure>

<h4 id="七-设置一个变量"><a href="#七-设置一个变量" class="headerlink" title="七. 设置一个变量"></a>七. 设置一个变量</h4><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设置LIBDIR为 $&#123;CMAKE_CURRENT_SOURCE_DIR&#125;/../../../libs/$&#123;ANDROID_ABI&#125;</span></span><br><span class="line"><span class="keyword">set</span>(LIBDIR <span class="variable">$&#123;CMAKE_CURRENT_SOURCE_DIR&#125;</span>/../../../libs/<span class="variable">$&#123;ANDROID_ABI&#125;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="八-导入预构建库"><a href="#八-导入预构建库" class="headerlink" title="八. 导入预构建库"></a>八. 导入预构建库</h4><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入静态库</span></span><br><span class="line"><span class="keyword">add_library</span>(ssl STATIC IMPORTED)</span><br><span class="line"><span class="keyword">set_target_properties</span>(srt PROPERTIES IMPORTED_LOCATION <span class="variable">$&#123;LIBDIR&#125;</span>/libssl.a)</span><br><span class="line"><span class="comment"># 导入动态库</span></span><br><span class="line"><span class="keyword">add_library</span>(ssl SHARED IMPORTED)</span><br><span class="line"><span class="keyword">set_target_properties</span>(srt PROPERTIES IMPORTED_LOCATION <span class="variable">$&#123;LIBDIR&#125;</span>/libssl.so)</span><br></pre></td></tr></table></figure>

<h4 id="九-链接库"><a href="#九-链接库" class="headerlink" title="九. 链接库"></a>九. 链接库</h4><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">target_link_libraries</span>( <span class="comment"># Specifies the target library.</span></span><br><span class="line">        <span class="keyword">test</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Links the target library to the log library</span></span><br><span class="line">        <span class="comment"># included in the NDK.</span></span><br><span class="line">        <span class="variable">$&#123;log-lib&#125;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="十-设置库的输出目录"><a href="#十-设置库的输出目录" class="headerlink" title="十. 设置库的输出目录"></a>十. 设置库的输出目录</h4><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set_target_properties</span>(<span class="keyword">test</span> PROPERTIES LIBRARY_OUTPUT_DIRECTORY <span class="variable">$&#123;CMAKE_LIBRARY_OUTPUT_DIRECTORY_$&#123;ARCH&#125;</span>&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>




            </div>
        
        <footer class="article-footer">
        </footer>
    </div>
</article>






    
        <article id="post-Android进阶/NDK/Android进阶之旅/16_1_Cmake语法" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
                    <div class="article-meta">
                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Android%E8%BF%9B%E9%98%B6/">Android进阶</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/Android%E8%BF%9B%E9%98%B6/NDK/">NDK</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/Android%E8%BF%9B%E9%98%B6/NDK/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E6%97%85/">Android进阶之旅</a>
    </div>

                        
                        
  



                        
                        
                    </div>
                
                
   

            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
        
            
        
        
            <p> 1.CMake基础：<br> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"> 1.1 CMake 是什么：</span><br><span class="line">  (1).CMake是一个支持生成跨平台建构文件的工具</span><br><span class="line">  (2).CMake并不直接建构最终的软件，而是描述项目文件被编译的过程，生成标准的建构档（如 Unix 的 Makefile 或 VS 的 projects/workspaces），然后再以对应平台的建构方式使用。</span><br><span class="line"></span><br><span class="line">  1.2 CMake源文件：</span><br><span class="line">   (1).CMake编写的源⽂件以CMakeLists.txt 命名或以.cmake为扩展名</span><br><span class="line">   (2).CMake的源⽂件包括 命令和注释</span><br><span class="line">   (3).CMake源文件中所有有效的语句都是命令</span><br><span class="line">         可以是内置命令或者自定义的函数(function) 或 宏命令(macro）</span><br><span class="line">   (4).可以通过add_subdirectory()命令把子录的CMake源文件添加进来</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> 1.3 CMake编译C/C++原理：</span><br><span class="line">   (1).CMake比Unix的make更为高级，使用起来要方便得多。</span><br><span class="line">   (2).终端cmake命令将CMakeLists.txt文件建构为make所需要的makefile文件，</span><br><span class="line">         最后用make命令编译源码生成可执行程序或共享库(so(shared object))</span><br><span class="line">         因此CMake在Linux终端执行步骤总的来说就两个：</span><br><span class="line">         1.cmake</span><br><span class="line">         2.make</span><br><span class="line">   (3).终端执行cmake后会生成很多编译中间文件以及makefile文件，</span><br><span class="line">       一般会新建一个build目录专门用来编译：</span><br><span class="line">        1.mkdir build</span><br><span class="line">        2.cd build</span><br><span class="line">        3.cmake ..</span><br><span class="line">        4.make</span><br><span class="line"> </span><br><span class="line">       build的创建也可以在CMakeLists.txt中使用命令创建。</span><br><span class="line">       cmake指向CMakeLists.txt所在的目录，</span><br><span class="line">       cmake .. 表示当前CMakeLists.txt目录的上一级目录</span><br><span class="line"></span><br><span class="line">对于一个庞大的工程，编写Makefile相当复杂，</span><br><span class="line">有了CMake工具之后就可以读入所有源文件，自动生成Makefile等构建文件。</span><br></pre></td></tr></table></figure><br>2.CMake注释：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(1).单行注释：#注释内容</span><br><span class="line">(2).多行注释：可以使用括号来实现多行注释：</span><br><span class="line">                       #[[多行注释</span><br><span class="line">                           多行注释</span><br><span class="line">                           多行注释]]</span><br></pre></td></tr></table></figure>
<p>3.CMake变量：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">   (1).CMake中所有的变量都是string类型。</span><br><span class="line">   (2).set()/unset()：声明/移除一个变量</span><br><span class="line">   (3).声明变量：set(变量名 变量值)</span><br><span class="line">                           set(var 123)</span><br><span class="line">   (4).引用变量：$&#123;变量名&#125;</span><br><span class="line">                          $&#123;var&#125;</span><br><span class="line">   (5).打印变量：message(&quot;变量名 = $&#123;变量名&#125;&quot;)</span><br><span class="line">                          message(&quot;var = $&#123;var&#125;&quot;)</span><br><span class="line">示例：</span><br><span class="line">set(var 123)</span><br><span class="line">message(&quot;var=$&#123;var&#125;&quot;)</span><br></pre></td></tr></table></figure>
<p>4.CMake列表(LISTS)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">   (1).列表也是字符串，可以把列表看做是一个特殊的变量，这个变量有多个值。</span><br><span class="line">   (2).语法格式：set(列表名 值1 值2 ... 值n)  或  set(列表名 “值1;值2;...值n”)</span><br><span class="line">   (3).声明列表：set(列表名 值1 值2 ... 值n)  或  set(列表名 “值1;值2;...值n”)</span><br><span class="line">                           set(list_var 1 2 3 4 5)          或  set(list_var &quot;1;2;3;4;5&quot;)</span><br><span class="line">   (4).引用列表：$&#123;列表名&#125;</span><br><span class="line">   (5).打印列表：message(&quot;列表名 = $&#123;列表名&#125;&quot;)</span><br><span class="line">                          message(&quot;list_var = $&#123;list_var&#125;&quot;)</span><br><span class="line">                          </span><br><span class="line">示例：</span><br><span class="line">set(list_aa 1 2 3 4 5)</span><br><span class="line">message(&quot;list=$&#123;list_aa&#125;&quot;)</span><br></pre></td></tr></table></figure>
<p>5.CMake中变量的作用域</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(1).全局层：cache变量，在整个项目范围可见，</span><br><span class="line">                   一般在set定义变量式，指定CACHE参数就能定义cache变量</span><br><span class="line">(2).目录层：在当前⽬录CMakeLists.txt中定义，</span><br><span class="line">                    以及在该文件包含的其他CMake源文件中定义的变量</span><br><span class="line">(3).函数层：在命令函数中定义的变量，属于函数作用域内的变量</span><br></pre></td></tr></table></figure>
<p>6.CMake流程控制</p>
<p>   (1).操作符：<br>         优先级： () &gt; 一元 &gt; 二元 &gt; 逻辑</p>
<p><img src="/../../../images/image-20230718142650779.png" alt="image-20230718142650779"></p>
<p>一元：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">EXIST:如果指定的文件或目录存在，则为true</span><br><span class="line">COMMAND:如果给定的name是可以调用的命令、宏或函数，则为true</span><br><span class="line">DEFINED:如果定义了给定&lt;name&gt;的变量、缓存变量或环境变量，则为true.(变量的值无关紧要)</span><br></pre></td></tr></table></figure>

<p>二元：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">EQUAL:相等（如果给定的字符串或变量的值是有效数字且等于右侧的数字，则为true）</span><br><span class="line">LESS：小于(如果给定的字符串或变量的值是有效数字且小于右侧的数字，则为true)</span><br><span class="line">LESS_EQUAL:小于或等于(如果给定的字符串或变量的值是有效数字且小于或等于右侧的数字，则为true)</span><br><span class="line">GREATER:大于(如果给定的字符串或变量的值是有效数字且大于右侧的数字，则为true)</span><br><span class="line">GREATER_EQUAL:大于或等于（如果给定的字符串或变量的值是有效数字且大于或等于右侧的数字，则为true）</span><br><span class="line">STREQUAL:字符等于（如果给定的字符串或变量的值按字典顺序(lexicographically)等于右侧的字符串或变量，则为true）</span><br><span class="line">STRLESS:字符小于(如果给定的字符串或变量的值按字典顺序(lexicographically)小于右侧的字符串或变量，则为true）</span><br><span class="line">STRLESS_EQUAL:小于或等于(如果给定的字符串或变量的值按字典顺序(lexicographically)小于或等于右侧的字符串或变量，则为true)</span><br><span class="line">STRGREATER:字符大于(如果给定的字符串或变量的值按字典顺序(lexicographically)大于右侧的字符串或变量，则为true)</span><br><span class="line">STRGREATER_EQUAL:字符大于或等于（如果给定的字符串或变量的值按字典顺序(lexicographically)等于右侧的字符串或变量，则为true）</span><br><span class="line">#VERSION_EQUAL也就是取整比较（任何非整数版本组件或版本组件的非整数结尾部分都会在该点有效截断字符串)</span><br><span class="line">VERSION_EQUAL:等于(如果给定的字符串或变量的值等于右侧的值，则为true)</span><br><span class="line">VERSION_LESS:小于（如果给定的字符串或变量的值等于右侧的值，则为true）</span><br><span class="line">VERSION_LESS_EQUAL:小于或等于(如果给定的字符串或变量的值小于或等于右侧的值，则为true)  </span><br><span class="line">VERSION_GREATER:大于(如果给定的字符串或变量的值大于右侧的值，则为true)</span><br><span class="line">VERSION_GRATER_EQUAL:大于或等于(如果给定的字符串或变量的值大于或等于右侧的值，则为true)</span><br><span class="line">MATCHES:正则表达式匹配(如果给定的字符串或变量的值与给定的正则表达式匹配(matches)，则为true)</span><br></pre></td></tr></table></figure>

<p>逻辑：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">NOT: ！  如果条件不为ture,，则为true</span><br><span class="line">AND: &amp;&amp; 如果这两个条件都被单独被认为是true，则为true</span><br><span class="line">OR: || 如果任一条件单独被认为是true,则为true</span><br></pre></td></tr></table></figure>

<p>变量值参考网址：<a target="_blank" rel="noopener" href="http://t.csdn.cn/IfYPc">http://t.csdn.cn/IfYPc</a></p>
<p>   (2).布尔常量值：</p>
<p><img src="/../../../images/9174bd239548435dbf36fa04adfef431.png" alt="img"></p>
<p>   (3).条件命令 if():<br>   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">     语法格式：</span><br><span class="line">         if (表达式)</span><br><span class="line">             COMMAND(ARGS...)</span><br><span class="line">         elseif(表达式)</span><br><span class="line">             COMMAND(ARGS...)</span><br><span class="line">         else(表达式)</span><br><span class="line">             COMMAND(ARGS...)</span><br><span class="line">         endif(表达式)</span><br><span class="line"></span><br><span class="line">     示例：</span><br><span class="line">         set(if_tap OFF)</span><br><span class="line">         set(elseif_tap ON)</span><br><span class="line"> </span><br><span class="line">         if($&#123;if_tap&#125;)</span><br><span class="line">              message(&quot;if&quot;)</span><br><span class="line">         elseif($&#123;elseif_tap&#125;)</span><br><span class="line">              message(&quot;elseif&quot;)</span><br><span class="line">         else($&#123;if_tap&#125;)</span><br><span class="line">              message(&quot;else&quot;)</span><br><span class="line">         endif($&#123;if_tap&#125;)</span><br><span class="line"> </span><br><span class="line">     elseif和else部分是可选的， 也可以使⽤多个elseif部分</span><br><span class="line">     缩进和空格对语句的解析没有影响</span><br><span class="line"></span><br><span class="line">(4).循环命令 while():</span><br><span class="line">     语法格式：</span><br><span class="line">         while(表达式)</span><br><span class="line">             COMMAND(ARGS...)</span><br><span class="line">         endwhile(表达式)</span><br><span class="line">	</span><br><span class="line">     示例：</span><br><span class="line">         set(a &quot;&quot;)</span><br><span class="line">         while(NOT a STREQUAL &quot;xxx&quot;)</span><br><span class="line">             set(a &quot;$&#123;a&#125;x&quot;)</span><br><span class="line">             message(&quot;a = $&#123;a&#125;&quot;)</span><br><span class="line">         endwhile()</span><br><span class="line">      </span><br><span class="line">     break() 可以跳出整个循环</span><br><span class="line">     continue() 可以跳出当前循环</span><br><span class="line"></span><br><span class="line">(5).循环遍历 foreach():</span><br><span class="line">     语法格式：</span><br><span class="line">         foreach(循环变量 参数1 参数2... 参数N)</span><br><span class="line">              COMMAND(ARGS...)</span><br><span class="line">         endforeach(循环变量)</span><br><span class="line">         </span><br><span class="line">         遍历RANGE:</span><br><span class="line">         #循环范围从start到stop，循环增量为step</span><br><span class="line">         foreach(循环变量 RANGE start stop step)</span><br><span class="line">              COMMAND(ARGS...)</span><br><span class="line">         endforeach(循环变量)</span><br><span class="line">         </span><br><span class="line">         遍历LISTS：</span><br><span class="line">         foreach(循环遍历 IN LISTS 列表)</span><br><span class="line">              COMMAND(ARGS...)</span><br><span class="line">         endforeach(循环变量)</span><br><span class="line"> </span><br><span class="line">     示例：</span><br><span class="line">         foreach(item 1 2 3)</span><br><span class="line">             message(&quot;item = $&#123;item&#125;&quot;)</span><br><span class="line">         endforeach(item)</span><br><span class="line">         </span><br><span class="line">         #RANGE：RANGE 4 表示从0到4</span><br><span class="line">         foreach(item RANGE 4)</span><br><span class="line">             message(&quot;item = $&#123;item&#125;&quot;)</span><br><span class="line">         endforeach(item)</span><br><span class="line">     </span><br><span class="line">         #RANGE：打印 1 3 5</span><br><span class="line">         foreach(item RANGE 1 5 2)</span><br><span class="line">             message(&quot;item = $&#123;item&#125;&quot;)</span><br><span class="line">         endforeach(item)</span><br><span class="line"> </span><br><span class="line">         #LISTS：</span><br><span class="line">         set(list_var 1 2 3)</span><br><span class="line">         foreach(item IN LISTS list_var)</span><br><span class="line">             message(&quot;item = $&#123;item&#125;&quot;)</span><br><span class="line">         endforeach(item)</span><br><span class="line"> </span><br><span class="line">       foreach也支持 break() 和 continue() 命令跳出循环</span><br></pre></td></tr></table></figure><br>7.CMake自定义函数命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">function(&lt;name&gt;[arg1 [arg3 [arg3...]]])</span><br><span class="line">     COMMAND(ARGS...)</span><br><span class="line">endfunction(&lt;name&gt;)</span><br><span class="line"></span><br><span class="line">调用格式：</span><br><span class="line">name(参数列表)</span><br><span class="line"></span><br><span class="line">示例：</span><br><span class="line">function(func x y z)</span><br><span class="line">    message(&quot;call function func&quot;)</span><br><span class="line">    message(&quot;x = $&#123;x&#125;&quot;)</span><br><span class="line">    message(&quot;y = $&#123;y&#125;&quot;)</span><br><span class="line">    message(&quot;z = $&#123;z&#125;&quot;)</span><br><span class="line">    # ARGC 内置变量   参数个数</span><br><span class="line">    message(&quot;ARGC = $&#123;ARGC&#125;&quot;)</span><br><span class="line">    # ARGVn 内置变量   第 n 个参数，从0开始</span><br><span class="line">    message(&quot;arg1 = $&#123;ARGV0&#125;&quot;)</span><br><span class="line">    message(&quot;arg2 = $&#123;ARGV1&#125;&quot;)</span><br><span class="line">    message(&quot;arg3 = $&#123;ARGV2&#125;&quot;)</span><br><span class="line">     # ARGV 内置变量   参数列表</span><br><span class="line">    message(&quot;all args = $&#123;ARGV&#125;&quot;)</span><br><span class="line">endfunction(func)</span><br><span class="line"></span><br><span class="line">调用：fun(1 2 3)</span><br></pre></td></tr></table></figure>
<p>8.CMake自定义宏命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">语法格式：</span><br><span class="line">macro(&lt;name&gt;[arg1 [arg3 [arg3...]]])</span><br><span class="line">     COMMAND(ARGS...)</span><br><span class="line">endmacro(&lt;name&gt;)</span><br><span class="line"></span><br><span class="line">调用格式：</span><br><span class="line">name(实参列表)</span><br><span class="line"></span><br><span class="line">示例：</span><br><span class="line">marco(ma x y z)</span><br><span class="line">    message(&quot;call macro ma&quot;)</span><br><span class="line">    message(&quot;x = $&#123;x&#125;&quot;)</span><br><span class="line">    message(&quot;y = $&#123;y&#125;&quot;)</span><br><span class="line">    message(&quot;z = $&#123;z&#125;&quot;)</span><br><span class="line">endmacro(ma)    </span><br><span class="line"></span><br><span class="line">调用：ma(1 2 3)</span><br><span class="line"></span><br><span class="line">函数命令有自己的作用域</span><br><span class="line">宏的作用域和调用者的作用域是一样的</span><br><span class="line">作用域：</span><br><span class="line">全局层:cache变量，在整个项目范围可见，一般在set定义变量时，指定CACHE参数就能定义为cache变量。</span><br><span class="line">目录层:在当前目录CMakeLists.txt中定义，以及在该文件包含的其他cmake源文件中定义的变量。</span><br><span class="line">函数层:在命令函数中定义的变量，属于函数作用域内的变量。</span><br></pre></td></tr></table></figure>
<p>9.CMake常用变量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">CMake预设了一些常用变量，这些变量通常会在编写CMakeLists.txt文件时使用到：</span><br><span class="line">CMAKE_MAJOR_VERSION：cmake 主版本号</span><br><span class="line">CMAKE_MINOR_VERSION：cmake 次版本号</span><br><span class="line">CMAKE_C_FLAGS：设置 C 编译选项</span><br><span class="line">CMAKE_CXX_FLAGS：设置 C++ 编译选项</span><br><span class="line">PROJECT_SOURCE_DIR：工程的根目录</span><br><span class="line">PROJECT_BINARY_DIR：运行 cmake 命令的目录</span><br><span class="line">CMAKE_CURRENT_SOURCE_DIR：当前CMakeLists.txt 所在路径</span><br><span class="line">CMAKE_CURRENT_BINARY_DIR：目标文件编译目录</span><br><span class="line">EXECUTABLE_OUTPUT_PATH：重新定义目标二进制可执行文件的存放位置</span><br><span class="line">LIBRARY_OUTPUT_PATH：重新定义目标链接库文件的存放位置</span><br><span class="line">UNIX：如果为真，表示为UNIX-like的系统，包括AppleOSX和CygWin</span><br><span class="line">WIN32：如果为真，表示为 Windows 系统，包括 CygWin</span><br><span class="line">APPLE：如果为真，表示为 Apple 系统</span><br><span class="line">CMAKE_SIZEOF_VOID_P：表示void*的大小（例如为4或者8），可以使用其来判断当前构建为32位还是64位</span><br><span class="line">CMAKE_CURRENT_LIST_DIR：表示正在处理的CMakeLists.txt文件所在目录的绝对路径</span><br><span class="line">CMAKE_ARCHIVE_OUTPUT_DIRECTORY：用于设置ARCHIVE目标的输出路径</span><br><span class="line">CMAKE_LIBRARY_OUTPUT_DIRECTORY：用于设置LIBRARY目标的输出路径</span><br><span class="line">CMAKE_RUNTIME_OUTPUT_DIRECTORY：用于设置RUNTIME目标的输出路径</span><br></pre></td></tr></table></figure>
<p>10.CMake常用命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line">(1) project命令：</span><br><span class="line">命令语法:project(&lt;projectname&gt; [languageName1 languageName2 ...])</span><br><span class="line">命令简述:用于指定项目的名称</span><br><span class="line">使用范例:project(Main)</span><br><span class="line"></span><br><span class="line">(2) cmake_minimum_required命令:</span><br><span class="line">命令语法:cmake_minimum_requried(VERSION major[.minor[.patch)</span><br><span class="line">命令简述:用于指定需要的CMake的最低版本</span><br><span class="line">使用范例:cmake_minimum_requried(VERSION 2.8.3)</span><br><span class="line"></span><br><span class="line">(3) aux_source_directory命令:</span><br><span class="line">命令语法:aux_source_directory(&lt;dir&gt; &lt;variable&gt;)</span><br><span class="line">命令简述:用于包含源文件目录，dir目录下的所有源文件的名字保存在变量variable中</span><br><span class="line">使用范例：aux_source_directory($&#123;CMAKE_CURRENT_SOURCE_DIR&#125;/src  DIR_SRCS)</span><br><span class="line"></span><br><span class="line">(4) add_executable命令:</span><br><span class="line">命令语法：add_executable(&lt;name&gt; [WIN32] [MACOSX_BUNDLE][EXCLUDE_FROM_ALL] source1 source2 … sourceN)</span><br><span class="line">命令简述:用于指定从一组源文件source1 source2 ... sourceN 编译出一个可执行文件且命名为name</span><br><span class="line">使用范例:add_executable(Main $(DIR_SRCS))</span><br><span class="line"></span><br><span class="line">(5) add_library命令:</span><br><span class="line">命令语法：add_library([STATIC | SHARED | MODULE] [EXCLUDE_FROM_ALL] source1source2 … sourceN)</span><br><span class="line">命令简述：用于指定从一组源文件 source1 source2 ... sourceN编译出一个库文件且命名为name</span><br><span class="line">使用范例：add_library(Lib $(DIR_SRCS))</span><br><span class="line"></span><br><span class="line">(6) add_dependencies命令:</span><br><span class="line">命令语法：add_dependencies(target-name depend-target1 depend-target2 …)</span><br><span class="line">命令简述：用于指定某个目标（可执行文件或者库文件）依赖于其他的目标。</span><br><span class="line">        这里的目标必须是add_executable、add_library、add_custom_target命令创建的目标</span><br><span class="line">        </span><br><span class="line">(7) add_subdirectory命令:</span><br><span class="line">命令语法：add_subdirectory(source_dir [binary_dir] [EXCLUDE_FROM_ALL])</span><br><span class="line">命令简述:用于添加一个需要进行构建的子目录</span><br><span class="line">使用范例:add_subdirectory(Lib)</span><br><span class="line"></span><br><span class="line">(8) target_link_libraries命令:</span><br><span class="line">命令语法：target_link_libraries(&lt;target&gt; [item1 [item2 […]]][[debug|optimized|general] ] …)</span><br><span class="line">命令简述:用于指定target需要链接item1 item2 ...。这里target必须已经被创建，链接的item可以是已经存在的target（依赖关系会自动添加）</span><br><span class="line">使用范例:target_link_libraries(Main Lib)</span><br><span class="line"></span><br><span class="line">(9) set命令：</span><br><span class="line">命令简述：用于设定变量 variable 的值为 value。如果指定了 CACHE 变量将被放入 Cache（缓存）中。</span><br><span class="line">命令语法：set(&lt;variable&gt; &lt;value&gt; [[CACHE &lt;type&gt;&lt;docstring&gt; [FORCE]] | PARENT_SCOPE])</span><br><span class="line">使用范例：set(ProjectName Main)</span><br><span class="line"></span><br><span class="line">(10) unset命令：</span><br><span class="line">命令语法：unset(&lt;variable&gt; [CACHE])</span><br><span class="line">命令简述：用于移除变量 variable。如果指定了 CACHE 变量将被从 Cache 中移除。</span><br><span class="line">使用范例：unset(VAR CACHE)</span><br><span class="line"></span><br><span class="line">(11) message命令：</span><br><span class="line">命令语法：message([STATUS|WARNING|AUTHOR_WARNING|FATAL_ERROR|SEND_ERROR] “message todisplay”…)</span><br><span class="line">命令简述:用于输出信息</span><br><span class="line">使用范例:message(“Hello World”)</span><br><span class="line"></span><br><span class="line">(12) include_directories命令：</span><br><span class="line">命令语法：include_directories([AFTER|BEFORE] [SYSTEM] dir1 dir2 …)</span><br><span class="line">命令简述：用于设定目录，这些设定的目录将被编译器用来查找 include 文件</span><br><span class="line">使用范例：include_directories($&#123;PROJECT_SOURCE_DIR&#125;/lib)</span><br><span class="line"></span><br><span class="line">(13) find_path命令：</span><br><span class="line">命令语法：find_path(&lt;VAR&gt; name1 [path1 path2 …])</span><br><span class="line">命令简述：用于查找包含文件name1的路径，如果找到则将路径保存在VAR中（此路径为一个绝对路径），如果没有找到则结果为&lt;VAR&gt;-NOTFOUND.默认情况下，VAR会被保存在Cache中，这时候我们需要清除VAR才可以进行下一次查询（使用unset命令）</span><br><span class="line">find_path(LUA_INCLUDE_PATH lua.h $&#123;LUA_INCLUDE_FIND_PATH&#125;)</span><br><span class="line">if(NOT LUA_INCLUDE_PATH)</span><br><span class="line">     message(SEND_ERROR &quot;Header file lua.h not found&quot;)</span><br><span class="line">endif()</span><br><span class="line"></span><br><span class="line">(14) find_library命令：</span><br><span class="line">命令语法：find_library(&lt;VAR&gt; name1 [path1 path2 …])</span><br><span class="line">命令简述：用于查找库文件 name1 的路径，如果找到则将路径保存在 VAR 中（此路径为一个绝对路径），</span><br><span class="line">        如果没有找到则结果为 &lt;VAR&gt;-NOTFOUND。</span><br><span class="line">        一个类似的命令 link_directories 已经不太建议使用了</span><br><span class="line">        </span><br><span class="line">(15) add_definitions命令：</span><br><span class="line">命令语法：add_definitions(-DFOO -DBAR …)</span><br><span class="line">命令简述：用于添加编译器命令行标志（选项），通常的情况下我们使用其来添加预处理器定义</span><br><span class="line">使用范例：add_definitions(-D_UNICODE -DUNICODE)</span><br><span class="line"></span><br><span class="line">(16) file命令：</span><br><span class="line">命令简述：此命令提供了丰富的文件和目录的相关操作（这里仅说一下比较常用的）</span><br><span class="line">使用范例：</span><br><span class="line"># 目录的遍历</span><br><span class="line"># GLOB 用于产生一个文件（目录）路径列表并保存在variable 中</span><br><span class="line"># 文件路径列表中的每个文件的文件名都能匹配globbing expressions（非正则表达式，但是类似）</span><br><span class="line"># 如果指定了 RELATIVE 路径，那么返回的文件路径列表中的路径为相对于 RELATIVE 的路径</span><br><span class="line">file(GLOB variable [RELATIVE path][globbing expressions]...)</span><br><span class="line"></span><br><span class="line"># 获取当前目录下的所有的文件（目录）的路径并保存到 ALL_FILE_PATH 变量中</span><br><span class="line">file(GLOB ALL_FILE_PATH ./*)</span><br><span class="line"># 获取当前目录下的 .h 文件的文件名并保存到ALL_H_FILE 变量中</span><br><span class="line"># 这里的变量CMAKE_CURRENT_LIST_DIR 表示正在处理的 CMakeLists.txt 文件的所在的目录的绝对路径（2.8.3 以及以后版本才支持）</span><br></pre></td></tr></table></figure>

<p>NDK（Native Development Kit）是一个用于在Android平台上开发C&#x2F;C++原生代码的工具集。在NDK中，静态库（Static Library）和动态库（Dynamic Library）是两种不同的库文件形式。</p>
<p><strong>静态库</strong>(SHARED)是将代码和依赖的库函数编译链接成一个可执行文件时静态地被调用的库。它的特点是将所有代码和依赖性都包含在文件内部，使得可执行文件独立性强，不依赖于其他外部库。静态库在编译时会将所有函数和数据都复制到可执行文件中，因此可执行文件的大小会增加。每次更新或修改静态库中的代码时，都需要重新编译和链接可执行文件。</p>
<p><strong>动态库</strong>(STATIC)是独立于可执行文件的共享库，它在程序运行时被动态加载和链接到内存中。动态库可以被多个可执行文件共享，从而提供了代码的重用性和节省了可执行文件的大小。当应用程序需要使用动态库时，操作系统会在运行时加载它们，以提供所需的函数和资源。这样可以在不重新编译和链接可执行文件的情况下更新和修改动态库。</p>
<p>总结：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. 静态库在编译时将代码和依赖性复制到可执行文件中，使得可执行文件独立性强，但会增加可执行文件的大小。</span><br><span class="line">2. 动态库在程序运行时被动态加载和链接到内存中，可以被多个可执行文件共享，提供了代码的重用性和节省了可执行文件的大小。</span><br><span class="line">3. 静态库需要重新编译和链接可执行文件才能更新和修改，而动态库可以在不重新编译和链接可执行文件的情况下更新和修改。</span><br><span class="line">4. 静态库适合于对独立性要求较高的场景，而动态库适合于代码重用和共享的场景。</span><br></pre></td></tr></table></figure>

<p>后缀或格式在NDK中，<strong>静态库和动态库的文件后缀或格式</strong>通常使用以下常见的命名约定：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1. 静态库的文件后缀或格式可以是：</span><br><span class="line">   - Linux系统上：.a</span><br><span class="line">   - Windows系统上：.lib</span><br><span class="line">   - macOS系统上：.a</span><br><span class="line">   此外，静态库还可以被压缩或归档成.tar.gz或.zip等文件格式。</span><br><span class="line"></span><br><span class="line">2. 动态库的文件后缀或格式可以是：</span><br><span class="line">   - Linux系统上：.so (Shared Object)</span><br><span class="line">   - Windows系统上：.dll (Dynamic Link Library)</span><br><span class="line">   - macOS系统上：.dylib (Dynamic Library)</span><br><span class="line">   </span><br><span class="line">这些是常见的命名约定，但并不是绝对的规定，具体的后缀或格式可能会因编译器、操作系统或项目设置的不同而有所变化。</span><br><span class="line">在使用NDK开发时，可以根据具体需求和平台要求选择适当的文件后缀或格式来命名静态库和动态库。</span><br></pre></td></tr></table></figure>

<p><strong>CMakeLists.txt  文件详解</strong></p>
<p>【1】 设置cmake最小版本</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 设置cmake最小版本</span><br><span class="line">cmake_minimum_required(VERSION 3.18.1)</span><br></pre></td></tr></table></figure>

<p>【2】指定项目</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 指定项目</span><br><span class="line">project(&quot;jniproject&quot;)</span><br></pre></td></tr></table></figure>

<p>【3】导入库目录</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 导入头文件目录</span><br><span class="line">include_directories(&quot;C:/Program Files/Java/jdk-18.0.1.1/include&quot;)</span><br></pre></td></tr></table></figure>

<p>相当于 -I，如果C&#x2F;C++中没有指定头文件的具体路径，在cmake中用include_directories指定头文件的目录也是可以的。</p>
<p>【4】生成一个动态库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 生成一个动态库（windows：dll，android：so）</span><br><span class="line"># 可以引入多个文件，多个文件用空格或者换行隔开</span><br><span class="line">add_library(jniproject SHARED src/main/cpp/native-lib.cpp src/main/cpp/Test.cpp)</span><br></pre></td></tr></table></figure>

<p>add_library可以指定多个源码文件，但是如果文件比较多的话也是一件麻烦的事情。<br> 这里有两种方法可以指定目录中所有的文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 指定一个或多个目录中所有对应的文件，并将名称保存到 DIR_SRCS 变量（可以指定多个目录）</span><br><span class="line">file(GLOB DIR_SRCS src/main/cpp/*.cpp)</span><br><span class="line">message(&quot;DIR_SRCS:=============$&#123;DIR_SRCS&#125;&quot;)</span><br><span class="line">add_library(jniproject SHARED $&#123;DIR_SRCS&#125;)</span><br></pre></td></tr></table></figure>

<p>或者 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 查找目录所有源文件 并将名称保存到 DIR_SRCS 变量</span><br><span class="line"># 不能查找子目录</span><br><span class="line">aux_source_directory(src/main/cpp/ DIR_SRCS)#src/main/cpp源文件路径</span><br><span class="line">message(&quot;DIR_SRCS:=============$&#123;DIR_SRCS&#125;&quot;)</span><br><span class="line">add_library(jniproject SHARED $&#123;DIR_SRCS&#125;)</span><br></pre></td></tr></table></figure>

<p>【5】引入其它cmakelist</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 添加 child 子目录下的cmakelist</span><br><span class="line">add_subdirectory(child)</span><br></pre></td></tr></table></figure>

<p>【6】指定动态库或静态库路径，或预处理</p>
<p>有两种方法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 设置一个变量</span><br><span class="line"># CMAKE_CXX_FLAGS c++参数</span><br><span class="line"># CMAKE_C_FLAGS c参数</span><br><span class="line"># CMAKE_C_FLAGS = --sysroot=XX</span><br><span class="line">set(CMAKE_CXX_FLAGS &quot;$&#123;CMAKE_CXX_FLAGS&#125; -L$&#123;CMAKE_SOURCE_DIR&#125;/src/main/cpp/$&#123;ANDROID_ABI&#125;&quot;)</span><br></pre></td></tr></table></figure>

<p>或者</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 引入静态库或者动态库</span><br><span class="line"># 第一个参数：库名称</span><br><span class="line"># 第二个参数：SHARED：动态库 STATIC：静态库</span><br><span class="line"># IMPORTED 表示以导入的方式添加进来（预编译静态/动态库）</span><br><span class="line">add_library(Test STATIC IMPORTED)</span><br><span class="line">set_target_properties(Test PROPERTIES IMPORTED_LOCATION $&#123;CMAKE_SOURCE_DIR&#125;/src/main/cpp/$&#123;ANDROID_ABI&#125;/libTest.a)</span><br></pre></td></tr></table></figure>

<p>【7】生成可执行文件，在Android上不适用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 生成可执行文件(生成exe文件， 在VS工具上可用)</span><br><span class="line">add_executable (jniproject1 native-lib.cpp)</span><br></pre></td></tr></table></figure>

<p>【8】查找一个ndk自带库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># log-lib 是变量名称  log是动态库名称 将liblog.so或liblog.a的路径赋值给log-lib</span><br><span class="line">find_library(log-lib log)</span><br></pre></td></tr></table></figure>

<p>将日志库log的路径赋值到变量log-lib中。</p>
<p>【9】链接ndk自带的库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 链接ndk自带的库</span><br><span class="line">target_link_libraries(</span><br><span class="line">        jniproject        # 链接 libjniproject.so</span><br><span class="line">        Test              # 链接 libTest.so</span><br><span class="line">        $&#123;log-lib&#125;)       # 链接 liblog.so</span><br></pre></td></tr></table></figure>

<p>【10】Cmake基本配置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"># 设置cmake最小版本</span><br><span class="line">cmake_minimum_required(VERSION 3.18.1)</span><br><span class="line"></span><br><span class="line"># 指定项目</span><br><span class="line">project(&quot;jniproject&quot;)</span><br><span class="line"></span><br><span class="line"># 导入头文件目录</span><br><span class="line"># include_directories(&quot;C:/Program Files/Java/jdk-18.0.1.1/include&quot;)</span><br><span class="line"></span><br><span class="line"># 生成一个动态库（windows：dll，android：so）</span><br><span class="line"># 可以引入多个文件，多个文件用空格或者换行隔开</span><br><span class="line"># add_library(jniproject SHARED src/main/cpp/native-lib.cpp src/main/cpp/Test.cpp)</span><br><span class="line"></span><br><span class="line"># 指定一个或多个目录中所有对应的文件，并将名称保存到 DIR_SRCS 变量（可以指定多个目录）</span><br><span class="line"># file(GLOB DIR_SRCS src/main/cpp/*.cpp)</span><br><span class="line"># message(&quot;DIR_SRCS:=============$&#123;DIR_SRCS&#125;&quot;)</span><br><span class="line"># add_library(jniproject SHARED $&#123;DIR_SRCS&#125;)</span><br><span class="line"></span><br><span class="line"># 查找目录所有源文件 并将名称保存到 DIR_SRCS 变量</span><br><span class="line"># 不能查找子目录</span><br><span class="line">aux_source_directory(src/main/cpp/ DIR_SRCS)</span><br><span class="line">message(&quot;DIR_SRCS:=============$&#123;DIR_SRCS&#125;&quot;)</span><br><span class="line">add_library(jniproject SHARED $&#123;DIR_SRCS&#125;)</span><br><span class="line"></span><br><span class="line"># 添加 child 子目录下的cmakelist</span><br><span class="line"># add_subdirectory(child)</span><br><span class="line"></span><br><span class="line"># 设置一个变量</span><br><span class="line"># CMAKE_CXX_FLAGS c++参数</span><br><span class="line"># CMAKE_C_FLAGS c参数</span><br><span class="line"># CMAKE_C_FLAGS = --sysroot=XX</span><br><span class="line"># set(CMAKE_CXX_FLAGS &quot;$&#123;CMAKE_CXX_FLAGS&#125; -L$&#123;CMAKE_SOURCE_DIR&#125;/src/main/cpp/$&#123;ANDROID_ABI&#125;&quot;)</span><br><span class="line"></span><br><span class="line"># 引入静态库或者动态库</span><br><span class="line"># 第一个参数：库名称</span><br><span class="line"># 第二个参数：SHARED：动态库 STATIC：静态库</span><br><span class="line"># IMPORTED 表示以导入的方式添加进来（预编译静态/动态库）</span><br><span class="line">add_library(Test STATIC IMPORTED)</span><br><span class="line">set_target_properties(Test PROPERTIES IMPORTED_LOCATION $&#123;CMAKE_SOURCE_DIR&#125;/src/main/cpp/$&#123;ANDROID_ABI&#125;/libTest.a)</span><br><span class="line"></span><br><span class="line"># 输出 Android_ABI 的值</span><br><span class="line">message(&quot;ANDROID_ABI =================: $&#123;ANDROID_ABI&#125;&quot;)</span><br><span class="line"></span><br><span class="line"># 生成可执行文件(生成exe文件， 在VS工具上可用)</span><br><span class="line"># add_executable (jniproject1 native-lib.cpp)</span><br><span class="line"></span><br><span class="line"># log-lib 是变量名称  log是动态库名称 将liblog.so或liblog.a的路径赋值给log-lib</span><br><span class="line">find_library(log-lib log)</span><br><span class="line"></span><br><span class="line"># 链接ndk自带的库</span><br><span class="line">target_link_libraries(</span><br><span class="line">        jniproject        # 链接 libjniproject.so</span><br><span class="line">        Test              # 链接 libTest.so</span><br><span class="line">        $&#123;log-lib&#125;)       # 链接 liblog.so</span><br></pre></td></tr></table></figure>


<p>原文链接：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/f65dec960e8e">https://www.jianshu.com/p/f65dec960e8e</a></p>

            </div>
        
        <footer class="article-footer">
        </footer>
    </div>
</article>






    
        <article id="post-Android进阶/NDK/Android进阶之旅/12_makefile" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
                    <div class="article-meta">
                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Android%E8%BF%9B%E9%98%B6/">Android进阶</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/Android%E8%BF%9B%E9%98%B6/NDK/">NDK</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/Android%E8%BF%9B%E9%98%B6/NDK/Android%E8%BF%9B%E9%98%B6%E4%B9%8B%E6%97%85/">Android进阶之旅</a>
    </div>

                        
                        
  



                        
                        
                    </div>
                
                
   

            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
        
            
        
        
            <h5 id="一、Makefile命令规则"><a href="#一、Makefile命令规则" class="headerlink" title="一、Makefile命令规则"></a>一、Makefile命令规则</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Makefile的命令规则如下：</span><br><span class="line">目标:依赖</span><br></pre></td></tr></table></figure>

<p>假设有一个Test.cpp文件，代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    count &lt;&lt; &quot;===Test===&quot; &lt;&lt; endl;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们可以使用gcc或g++来 <code>预处理</code>、<code>汇编</code>、<code>编译</code>、<code>链接</code>，也可以利用Makefile来执行这些命令。</p>
<p>在Makefile中填入配置：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 生成预处理文件</span><br><span class="line">Test.i:Test.cpp</span><br><span class="line">    g++ -E Test.cpp -o Test.i</span><br></pre></td></tr></table></figure>

<p>Test.i 是目标，Test.cpp 是依赖，整体的意思是：Test.i是依赖于Test.cpp生成的。<br> 左右两边用冒号隔开，也就是Makefile命令规范：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">目标:依赖</span><br></pre></td></tr></table></figure>

<p>下一行是 g++ 命令，Test.i的生成是根据这条 g++ 命令生成的。g++前面必须含有分割符，而且必须是tab分割，不能是空格，否则在执行Makefile时不被识别。</p>
<p>执行该Makefile文件：</p>
<p><img src="/../../../images/image-20230717161647472.png" alt="image-20230717161647472"></p>
<p>Makefile中可能由多个目标组成，make命令会找到Makefile中第一个目标执行。也可以指定一个目标执行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make 目标</span><br></pre></td></tr></table></figure>

<p>现在Makefile中只有一个目标，所以可以执行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make Test.i</span><br></pre></td></tr></table></figure>

<h5 id="二、Makefile实现-预处理、汇编、编译、链接"><a href="#二、Makefile实现-预处理、汇编、编译、链接" class="headerlink" title="二、Makefile实现 预处理、汇编、编译、链接"></a>二、Makefile实现 <code>预处理</code>、<code>汇编</code>、<code>编译</code>、<code>链接</code></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># 生成预处理文件</span><br><span class="line">Test.i:Test.cpp</span><br><span class="line">    g++ -E Test.cpp -o Test.i</span><br><span class="line"></span><br><span class="line"># 生成汇编文件</span><br><span class="line">Test.s:Test.i</span><br><span class="line">    g++ -S Test.i -o Test.s</span><br><span class="line">    </span><br><span class="line"># 生成目标文件</span><br><span class="line">Test.o:Test.s</span><br><span class="line">    g++ -c Test.s -o Test.o</span><br><span class="line">    </span><br><span class="line"># 生成链接文件（可执行文件）</span><br><span class="line">Test:Test.o</span><br><span class="line">    g++ Test.o -o Test。</span><br></pre></td></tr></table></figure>

<p>定义四个目标，分别是：<code>Test.i</code>、<code>Test.s</code>、<code>Test.o</code>、<code>Test</code>。</p>
<p>分别执行这四个目标：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">make Test.i</span><br><span class="line">make Test.s</span><br><span class="line">make Test.o</span><br><span class="line">make Test</span><br></pre></td></tr></table></figure>

<p>可以完成 <code>预处理</code>、<code>汇编</code>、<code>编译</code>、<code>链接</code>。<br> 但是，完成这写指令，还可以一步完成，我们的目标是执行 make 命令完成所有的步骤。</p>
<p>只需要改变一下Makefile中的目标顺序即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># 生成链接文件（可执行文件）</span><br><span class="line">Test:Test.o</span><br><span class="line">    g++ Test.o -o Test</span><br><span class="line">    </span><br><span class="line"># 生成目标文件</span><br><span class="line">Test.o:Test.s</span><br><span class="line">    g++ -c Test.s -o Test.o</span><br><span class="line">    </span><br><span class="line"># 生成汇编文件</span><br><span class="line">Test.s:Test.i</span><br><span class="line">    g++ -S Test.i -o Test.s</span><br><span class="line"></span><br><span class="line"># 生成预处理文件</span><br><span class="line">Test.i:Test.cpp</span><br><span class="line">    g++ -E Test.cpp -o Test.i</span><br></pre></td></tr></table></figure>

<p>输入make命令一次性执行完所有的目标：</p>
<p><img src="/../../../images/image-20230717161803969.png" alt="image-20230717161803969"></p>
<p>注意：顺序要正确，必须形成逐步依赖关系。</p>
<h5 id="三、makefile编译多个文件"><a href="#三、makefile编译多个文件" class="headerlink" title="三、makefile编译多个文件"></a>三、makefile编译多个文件</h5><p>Student.h</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#ifndef _STUDENT_H_</span><br><span class="line">#define _STUDENT_H_</span><br><span class="line"></span><br><span class="line">#include &lt;string&gt;</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">class Student &#123;</span><br><span class="line"></span><br><span class="line">private:</span><br><span class="line">    string name;</span><br><span class="line">    int age;</span><br><span class="line"></span><br><span class="line">public:</span><br><span class="line">    void setName(string name);</span><br><span class="line">    string getName();</span><br><span class="line">    void setAge(int age);</span><br><span class="line">    int getAge();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">#endif</span><br></pre></td></tr></table></figure>

<p>Student.cpp</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;Student.h&quot;</span><br><span class="line"></span><br><span class="line">void Student::setName(string name) &#123;</span><br><span class="line">    this-&gt;name = name;</span><br><span class="line">&#125;</span><br><span class="line">string Student::getName() &#123;</span><br><span class="line">    return name;</span><br><span class="line">&#125;</span><br><span class="line">void Student::setAge(int age) &#123;</span><br><span class="line">    this-&gt;age = age;</span><br><span class="line">&#125;</span><br><span class="line">int Student::getAge() &#123;</span><br><span class="line">    return age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Test.cpp</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &quot;Student.h&quot;</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line"></span><br><span class="line">    Student* stu = new Student();</span><br><span class="line">    stu-&gt;setName(&quot;zhangsan&quot;);</span><br><span class="line">    stu-&gt;setAge(13);</span><br><span class="line">    cout &lt;&lt; &quot;姓名：&quot; &lt;&lt; stu-&gt;getName() &lt;&lt; &quot;, 年龄：&quot; &lt;&lt; stu-&gt;getAge() &lt;&lt; endl;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Makefile：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"># 生成链接文件（可执行文件）</span><br><span class="line">Test:Test.o Student.o</span><br><span class="line">    g++ Test.o Student.o -o Test</span><br><span class="line">    </span><br><span class="line"># 生成目标文件Test.o</span><br><span class="line">Test.o:Test.s</span><br><span class="line">    g++ -c Test.s -o Test.o</span><br><span class="line"></span><br><span class="line"># 生成目标文件Student.o</span><br><span class="line">Student.o:Student.s</span><br><span class="line">    g++ -c Student.s -o Student.o</span><br><span class="line">    </span><br><span class="line"># 生成汇编文件Test.s</span><br><span class="line">Test.s:Test.i</span><br><span class="line">    g++ -S Test.i -o Test.s</span><br><span class="line"></span><br><span class="line"># 生成汇编文件Test.s</span><br><span class="line">Student.s:Student.i</span><br><span class="line">    g++ -S Student.i -o Student.s</span><br><span class="line">    </span><br><span class="line"># 生成预处理文件Test.i</span><br><span class="line">Test.i:Test.cpp</span><br><span class="line">    g++ -E Test.cpp -o Test.i</span><br><span class="line"></span><br><span class="line"># 生成预处理文件Student.i</span><br><span class="line">Student.i:Student.cpp</span><br><span class="line">    g++ -E Student.cpp -o Student.i</span><br></pre></td></tr></table></figure>

<p>执行make命令之后，生成 <code>预处理文件</code>、<code>汇编文件</code>、<code>目标文件</code>、<code>可执行文件</code>。</p>
<p><img src="/../../../images/webp-168958193485010.webp" alt="img"></p>
<h5 id="四、makefile多文件管理"><a href="#四、makefile多文件管理" class="headerlink" title="四、makefile多文件管理"></a>四、makefile多文件管理</h5><p>在编译期间，在同一个目录下生成多个文件，文件多了有点乱，这时，就需要分类管理，将不同格式的文件放入不同的文件夹。</p>
<p>修改Makefile配置：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"># 定义变量INFO_DIR，指定预处理文件和汇编文件的存放目录</span><br><span class="line">INFO_DIR = ./info</span><br><span class="line"></span><br><span class="line"># 定义变量INC_DIR，指定头文件的存放目录</span><br><span class="line">INC_DIR = ./include</span><br><span class="line"></span><br><span class="line"># 定义变量SRC_DIR，指定c/c++文件的存放目录</span><br><span class="line">SRC_DIR = ./src</span><br><span class="line"></span><br><span class="line"># 定义变量BIN_DIR，指定可执行文件的存放目录</span><br><span class="line">BIN_DIR = ./bin</span><br><span class="line"></span><br><span class="line"># 定义变量OBJ_DIR，指定可执行文件的存放目录</span><br><span class="line">OBJ_DIR = ./obj</span><br><span class="line"></span><br><span class="line"># 生成链接文件（可执行文件）</span><br><span class="line">Test:$&#123;OBJ_DIR&#125;/Test.o $&#123;OBJ_DIR&#125;/Student.o</span><br><span class="line">    g++ $&#123;OBJ_DIR&#125;/Test.o $&#123;OBJ_DIR&#125;/Student.o -o $&#123;BIN_DIR&#125;/Test</span><br><span class="line">     </span><br><span class="line"># 生成目标文件Test.o</span><br><span class="line">$&#123;OBJ_DIR&#125;/Test.o:$&#123;INFO_DIR&#125;/Test.s</span><br><span class="line">    g++ -c $&#123;INFO_DIR&#125;/Test.s -o $&#123;OBJ_DIR&#125;/Test.o</span><br><span class="line"></span><br><span class="line"># 生成目标文件Student.o</span><br><span class="line">$&#123;OBJ_DIR&#125;/Student.o:$&#123;INFO_DIR&#125;/Student.s</span><br><span class="line">    g++ -c $&#123;INFO_DIR&#125;/Student.s -o $&#123;OBJ_DIR&#125;/Student.o</span><br><span class="line">    </span><br><span class="line"># 生成汇编文件Test.s</span><br><span class="line">$&#123;INFO_DIR&#125;/Test.s:$&#123;INFO_DIR&#125;/Test.i</span><br><span class="line">    g++ -S $&#123;INFO_DIR&#125;/Test.i -o $&#123;INFO_DIR&#125;/Test.s</span><br><span class="line"></span><br><span class="line"># 生成汇编文件Test.s</span><br><span class="line">$&#123;INFO_DIR&#125;/Student.s:$&#123;INFO_DIR&#125;/Student.i</span><br><span class="line">    g++ -S $&#123;INFO_DIR&#125;/Student.i -o $&#123;INFO_DIR&#125;/Student.s</span><br><span class="line">    </span><br><span class="line"># 生成预处理文件Test.i</span><br><span class="line">$&#123;INFO_DIR&#125;/Test.i:$&#123;SRC_DIR&#125;/Test.cpp</span><br><span class="line">    g++ -E $&#123;SRC_DIR&#125;/Test.cpp -o $&#123;INFO_DIR&#125;/Test.i</span><br><span class="line"></span><br><span class="line"># 生成预处理文件Student.i</span><br><span class="line">$&#123;INFO_DIR&#125;/Student.i:$&#123;SRC_DIR&#125;/Student.cpp</span><br><span class="line">    g++ -E $&#123;SRC_DIR&#125;/Student.cpp -o $&#123;INFO_DIR&#125;/Student.i</span><br></pre></td></tr></table></figure>

<p>目录结构如下：</p>
<p><img src="/../../../images/webp-168958196836513.webp" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">bin、include、info、obj、src文件夹需要手动创建；</span><br><span class="line">bin文件夹存放可执行文件；</span><br><span class="line">include文件夹存放头文件；</span><br><span class="line">info文件夹存放预处理文件和汇编文件；</span><br><span class="line">obj文件夹存放目标文件；</span><br><span class="line">src文件夹存放c或cpp文件；</span><br></pre></td></tr></table></figure>

<h5 id="五、clean命令"><a href="#五、clean命令" class="headerlink" title="五、clean命令"></a>五、clean命令</h5><p>在Makefile中添加：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">clean:</span><br><span class="line">    del bin obj info</span><br></pre></td></tr></table></figure>

<p>执行clean命令，可以删除 bin、obj、info文件夹中所有的文件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make clean</span><br></pre></td></tr></table></figure>

<h5 id="六、Makefile通配符"><a href="#六、Makefile通配符" class="headerlink" title="六、Makefile通配符"></a>六、Makefile通配符</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">%.o：表示一个xx.o文件</span><br><span class="line">$@：表示目标文件</span><br><span class="line">$&lt;：表示第一个依赖文件</span><br><span class="line">$^：所有不重复的依赖文件，以空格分开</span><br><span class="line">$*：不包含扩展名的target文件名称</span><br><span class="line">$+：所有的依赖文件，以空格分开，并以出现的先后为序，可能包含重复的依赖文件</span><br><span class="line">$?：所有时间戳比target文件晚的依赖文件，并以空格分开</span><br></pre></td></tr></table></figure>

<p>由于 -o 后面输出的必然是目标文件，所以 -o 后面的输出文件可以替换为 $@：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"># 定义变量INFO_DIR，指定预处理文件和汇编文件的存放目录</span><br><span class="line">INFO_DIR = ./info</span><br><span class="line"></span><br><span class="line"># 定义变量INC_DIR，指定头文件的存放目录</span><br><span class="line">INC_DIR = ./include</span><br><span class="line"></span><br><span class="line"># 定义变量SRC_DIR，指定c/c++文件的存放目录</span><br><span class="line">SRC_DIR = ./src</span><br><span class="line"></span><br><span class="line"># 定义变量BIN_DIR，指定可执行文件的存放目录</span><br><span class="line">BIN_DIR = ./bin</span><br><span class="line"></span><br><span class="line"># 定义变量OBJ_DIR，指定可执行文件的存放目录</span><br><span class="line">OBJ_DIR = ./obj</span><br><span class="line"></span><br><span class="line"># 生成链接文件（可执行文件）</span><br><span class="line">$&#123;BIN_DIR&#125;/Test:$&#123;OBJ_DIR&#125;/Test.o $&#123;OBJ_DIR&#125;/Student.o</span><br><span class="line">    g++ $&#123;OBJ_DIR&#125;/Test.o $&#123;OBJ_DIR&#125;/Student.o -o $@</span><br><span class="line">     </span><br><span class="line"># 生成目标文件Test.o</span><br><span class="line">$&#123;OBJ_DIR&#125;/Test.o:$&#123;INFO_DIR&#125;/Test.s</span><br><span class="line">    g++ -c $&#123;INFO_DIR&#125;/Test.s -o $@</span><br><span class="line"></span><br><span class="line"># 生成目标文件Student.o</span><br><span class="line">$&#123;OBJ_DIR&#125;/Student.o:$&#123;INFO_DIR&#125;/Student.s</span><br><span class="line">    g++ -c $&#123;INFO_DIR&#125;/Student.s -o $@</span><br><span class="line">    </span><br><span class="line"># 生成汇编文件Test.s</span><br><span class="line">$&#123;INFO_DIR&#125;/Test.s:$&#123;INFO_DIR&#125;/Test.i</span><br><span class="line">    g++ -S $&#123;INFO_DIR&#125;/Test.i -o $@</span><br><span class="line"></span><br><span class="line"># 生成汇编文件Test.s</span><br><span class="line">$&#123;INFO_DIR&#125;/Student.s:$&#123;INFO_DIR&#125;/Student.i</span><br><span class="line">    g++ -S $&#123;INFO_DIR&#125;/Student.i -o $@</span><br><span class="line">    </span><br><span class="line"># 生成预处理文件Test.i</span><br><span class="line">$&#123;INFO_DIR&#125;/Test.i:$&#123;SRC_DIR&#125;/Test.cpp</span><br><span class="line">    g++ -E $&#123;SRC_DIR&#125;/Test.cpp -o $@</span><br><span class="line"></span><br><span class="line"># 生成预处理文件Student.i</span><br><span class="line">$&#123;INFO_DIR&#125;/Student.i:$&#123;SRC_DIR&#125;/Student.cpp</span><br><span class="line">    g++ -E $&#123;SRC_DIR&#125;/Student.cpp -o $@</span><br><span class="line">    </span><br><span class="line">clean:</span><br><span class="line">    del bin obj info</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">#$&lt;、$^ 和 % 结合使用，可以最大程度上简化配置：</span><br><span class="line"># 定义变量INFO_DIR，指定预处理文件和汇编文件的存放目录</span><br><span class="line">INFO_DIR = ./info</span><br><span class="line"></span><br><span class="line"># 定义变量INC_DIR，指定头文件的存放目录</span><br><span class="line">INC_DIR = ./include</span><br><span class="line"></span><br><span class="line"># 定义变量SRC_DIR，指定c/c++文件的存放目录</span><br><span class="line">SRC_DIR = ./src</span><br><span class="line"></span><br><span class="line"># 定义变量BIN_DIR，指定可执行文件的存放目录</span><br><span class="line">BIN_DIR = ./bin</span><br><span class="line"></span><br><span class="line"># 定义变量OBJ_DIR，指定可执行文件的存放目录</span><br><span class="line">OBJ_DIR = ./obj</span><br><span class="line"></span><br><span class="line"># 生成链接文件（可执行文件）</span><br><span class="line">$&#123;BIN_DIR&#125;/Test:$&#123;OBJ_DIR&#125;/Test.o $&#123;OBJ_DIR&#125;/Student.o</span><br><span class="line">    g++ $^ -o $@</span><br><span class="line"></span><br><span class="line"># 生成所有目标文件 %：任意字符通配符 $&lt;：表示第一个依赖文件</span><br><span class="line">$&#123;OBJ_DIR&#125;/%.o:$&#123;INFO_DIR&#125;/%.s</span><br><span class="line">    g++ -c $&lt; -o $@</span><br><span class="line">    </span><br><span class="line"># 生成所有汇编文件 %：任意字符通配符 $&lt;：表示第一个依赖文件</span><br><span class="line">$&#123;INFO_DIR&#125;/%.s:$&#123;INFO_DIR&#125;/%.i</span><br><span class="line">    g++ -S $&lt; -o $@</span><br><span class="line"></span><br><span class="line"># 生成所有预处理文件 %：任意字符通配符 $&lt;：表示第一个依赖文件</span><br><span class="line">$&#123;INFO_DIR&#125;/%.i:$&#123;SRC_DIR&#125;/%.cpp</span><br><span class="line">    g++ -E $&lt; -o $@</span><br><span class="line">    </span><br><span class="line">clean:</span><br><span class="line">    del bin obj info</span><br></pre></td></tr></table></figure>

<p>以上配置显然已经简单了很多。</p>
<p>另外，头文件已经放在include目录，cpp文件已经放在了src目录，所以需要指定头文件位置，由两种方法可以指定：</p>
<p>【方法一】在cpp中修改头文件位置</p>
<p>将</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;Student.h&quot;</span><br></pre></td></tr></table></figure>

<p>改成</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;../include/Student.h&quot;</span><br></pre></td></tr></table></figure>

<p>【方法二】g++命令后面指定头文件路径</p>
<p>加入 <code>-I $(INC_DIR)</code> 导入头文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"># 定义变量INFO_DIR，指定预处理文件和汇编文件的存放目录</span><br><span class="line">INFO_DIR = ./info</span><br><span class="line"></span><br><span class="line"># 定义变量INC_DIR，指定头文件的存放目录</span><br><span class="line">INC_DIR = ./include</span><br><span class="line"></span><br><span class="line"># 定义变量SRC_DIR，指定c/c++文件的存放目录</span><br><span class="line">SRC_DIR = ./src</span><br><span class="line"></span><br><span class="line"># 定义变量BIN_DIR，指定可执行文件的存放目录</span><br><span class="line">BIN_DIR = ./bin</span><br><span class="line"></span><br><span class="line"># 定义变量OBJ_DIR，指定可执行文件的存放目录</span><br><span class="line">OBJ_DIR = ./obj</span><br><span class="line"></span><br><span class="line"># -I 指定头文件 </span><br><span class="line">CXXFLAGS=-I $(INC_DIR)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 生成链接文件（可执行文件）</span><br><span class="line">$&#123;BIN_DIR&#125;/Test:$&#123;OBJ_DIR&#125;/Test.o $&#123;OBJ_DIR&#125;/Student.o</span><br><span class="line">    g++ $(CXXFLAGS) $^ -o $@</span><br><span class="line"></span><br><span class="line"># 生成所有目标文件 %：任意字符通配符 $&lt;：表示第一个依赖文件</span><br><span class="line">$&#123;OBJ_DIR&#125;/%.o:$&#123;INFO_DIR&#125;/%.s</span><br><span class="line">    g++ $(CXXFLAGS) -c $&lt; -o $@</span><br><span class="line">    </span><br><span class="line"># 生成所有汇编文件 %：任意字符通配符 $&lt;：表示第一个依赖文件</span><br><span class="line">$&#123;INFO_DIR&#125;/%.s:$&#123;INFO_DIR&#125;/%.i</span><br><span class="line">    g++ $(CXXFLAGS) -S $&lt; -o $@</span><br><span class="line"></span><br><span class="line"># 生成所有预处理文件 %：任意字符通配符 $&lt;：表示第一个依赖文件</span><br><span class="line">$&#123;INFO_DIR&#125;/%.i:$&#123;SRC_DIR&#125;/%.cpp</span><br><span class="line">    g++ $(CXXFLAGS) -E $&lt; -o $@</span><br><span class="line">    </span><br><span class="line">clean:</span><br><span class="line">    del bin obj info</span><br></pre></td></tr></table></figure>

<p>g++出现了多次，也可以使用变量代替，并且新增TAGERT和OBJS变量：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"># 定义变量INFO_DIR，指定预处理文件和汇编文件的存放目录</span><br><span class="line">INFO_DIR = ./info</span><br><span class="line"></span><br><span class="line"># 定义变量INC_DIR，指定头文件的存放目录</span><br><span class="line">INC_DIR = ./include</span><br><span class="line"></span><br><span class="line"># 定义变量SRC_DIR，指定c/c++文件的存放目录</span><br><span class="line">SRC_DIR = ./src</span><br><span class="line"></span><br><span class="line"># 定义变量BIN_DIR，指定可执行文件的存放目录</span><br><span class="line">BIN_DIR = ./bin</span><br><span class="line"></span><br><span class="line"># 定义变量OBJ_DIR，指定可执行文件的存放目录</span><br><span class="line">OBJ_DIR = ./obj</span><br><span class="line"></span><br><span class="line"># -I 指定头文件 </span><br><span class="line">CXXFLAGS=-I $(INC_DIR)</span><br><span class="line"></span><br><span class="line"># CC 指定编译器 gcc 、 g++</span><br><span class="line">CC=g++</span><br><span class="line"></span><br><span class="line">#最终生成的目标，</span><br><span class="line">TAGERT=Test</span><br><span class="line"></span><br><span class="line"># 目标文件</span><br><span class="line">OBJS=$&#123;OBJ_DIR&#125;/Test.o $&#123;OBJ_DIR&#125;/Student.o</span><br><span class="line"></span><br><span class="line"># 生成链接文件（可执行文件）</span><br><span class="line">$&#123;BIN_DIR&#125;/$&#123;TAGERT&#125;:$&#123;OBJS&#125;</span><br><span class="line">    $&#123;CC&#125; $(CXXFLAGS) $^ -o $@</span><br><span class="line"></span><br><span class="line"># 生成所有目标文件 %：任意字符通配符 $&lt;：表示第一个依赖文件</span><br><span class="line">$&#123;OBJ_DIR&#125;/%.o:$&#123;INFO_DIR&#125;/%.s</span><br><span class="line">    $&#123;CC&#125; $(CXXFLAGS) -c $&lt; -o $@</span><br><span class="line">    </span><br><span class="line"># 生成所有汇编文件 %：任意字符通配符 $&lt;：表示第一个依赖文件</span><br><span class="line">$&#123;INFO_DIR&#125;/%.s:$&#123;INFO_DIR&#125;/%.i</span><br><span class="line">    $&#123;CC&#125; $(CXXFLAGS) -S $&lt; -o $@</span><br><span class="line"></span><br><span class="line"># 生成所有预处理文件 %：任意字符通配符 $&lt;：表示第一个依赖文件</span><br><span class="line">$&#123;INFO_DIR&#125;/%.i:$&#123;SRC_DIR&#125;/%.cpp</span><br><span class="line">    $&#123;CC&#125; $(CXXFLAGS) -E $&lt; -o $@</span><br><span class="line">    </span><br><span class="line">clean:</span><br><span class="line">    del bin obj info</span><br></pre></td></tr></table></figure>

<p>以上配置还存在一定的弊端，OBJS变量指定了目标文件，此时的目标文件是需要指定具体目标文件的。</p>
<h5 id="七、wildcard函数查找"><a href="#七、wildcard函数查找" class="headerlink" title="七、wildcard函数查找"></a>七、wildcard函数查找</h5><p><code>$(wildcard pattern)</code>：pattern定义了文件名的格式，wildcard取出其中存在的文件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># wildcard查找当前目录下所有cpp文件</span><br><span class="line">SRCS=$(wildcard $(SRC_DIR)/*.cpp)</span><br></pre></td></tr></table></figure>

<p>此时 SRCS 就是 src目录下所有cpp格式的文件。</p>
<h5 id="八、patsubst函数替换"><a href="#八、patsubst函数替换" class="headerlink" title="八、patsubst函数替换"></a>八、patsubst函数替换</h5><p><code>$(patsubst pattern,replacement,$(var))</code>：从var中将符合patern格式的内容，替换为replacement。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># wildcard查找当前目录下所有cpp文件</span><br><span class="line">SRCS=$(wildcard $(SRC_DIR)/*.cpp)</span><br><span class="line"></span><br><span class="line"># notdir 去除掉绝对路径，只保留名字</span><br><span class="line"># patsubst 把字串 $(notdir $(SRCS)) 符合模式[%.cpp]的单词替换成[%.o]</span><br><span class="line">OBJS=$(patsubst %.cpp,$(OBJ_DIR)/%.o,$(notdir $(SRCS)))</span><br></pre></td></tr></table></figure>

<p>patsubst 可以解决指定明确目标文件的弊端，改进弊端之后的配置如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"># 定义变量INFO_DIR，指定预处理文件和汇编文件的存放目录</span><br><span class="line">INFO_DIR = ./info</span><br><span class="line"></span><br><span class="line"># 定义变量INC_DIR，指定头文件的存放目录</span><br><span class="line">INC_DIR = ./include</span><br><span class="line"></span><br><span class="line"># 定义变量SRC_DIR，指定c/c++文件的存放目录</span><br><span class="line">SRC_DIR = ./src</span><br><span class="line"></span><br><span class="line"># 定义变量BIN_DIR，指定可执行文件的存放目录</span><br><span class="line">BIN_DIR = ./bin</span><br><span class="line"></span><br><span class="line"># 定义变量OBJ_DIR，指定可执行文件的存放目录</span><br><span class="line">OBJ_DIR = ./obj</span><br><span class="line"></span><br><span class="line"># -I 指定头文件 </span><br><span class="line">CXXFLAGS=-I $(INC_DIR)</span><br><span class="line"></span><br><span class="line"># CC 指定编译器 gcc 、 g++</span><br><span class="line">CC=g++</span><br><span class="line"></span><br><span class="line">#最终生成的目标，</span><br><span class="line">TAGERT=Test</span><br><span class="line"></span><br><span class="line"># wildcard查找当前目录下所有cpp文件</span><br><span class="line">SRCS=$(wildcard $(SRC_DIR)/*.cpp)</span><br><span class="line"></span><br><span class="line"># notdir 去除掉绝对路径，只保留名字</span><br><span class="line"># patsubst 把字串 $(notdir $(SRCS)) 符合模式[%.cpp]的单词替换成[%.o]</span><br><span class="line">OBJS=$(patsubst %.cpp,$(OBJ_DIR)/%.o,$(notdir $(SRCS))) </span><br><span class="line"></span><br><span class="line"># wildcard *.cpp 当前目录下所有c文件</span><br><span class="line">SRCS=$(wildcard $(SRC_DIR)/*.cpp)</span><br><span class="line"></span><br><span class="line"># 生成链接文件（可执行文件）</span><br><span class="line">$&#123;BIN_DIR&#125;/$&#123;TAGERT&#125;:$&#123;OBJS&#125;</span><br><span class="line">    $&#123;CC&#125; $(CXXFLAGS) $^ -o $@</span><br><span class="line"></span><br><span class="line"># 生成所有目标文件 %：任意字符通配符 $&lt;：表示第一个依赖文件</span><br><span class="line">$&#123;OBJ_DIR&#125;/%.o:$&#123;INFO_DIR&#125;/%.s</span><br><span class="line">    $&#123;CC&#125; $(CXXFLAGS) -c $&lt; -o $@</span><br><span class="line">    </span><br><span class="line"># 生成所有汇编文件 %：任意字符通配符 $&lt;：表示第一个依赖文件</span><br><span class="line">$&#123;INFO_DIR&#125;/%.s:$&#123;INFO_DIR&#125;/%.i</span><br><span class="line">    $&#123;CC&#125; $(CXXFLAGS) -S $&lt; -o $@</span><br><span class="line"></span><br><span class="line"># 生成所有预处理文件 %：任意字符通配符 $&lt;：表示第一个依赖文件</span><br><span class="line">$&#123;INFO_DIR&#125;/%.i:$&#123;SRC_DIR&#125;/%.cpp</span><br><span class="line">    $&#123;CC&#125; $(CXXFLAGS) -E $&lt; -o $@</span><br><span class="line">    </span><br><span class="line">clean:</span><br><span class="line">    del bin obj info</span><br></pre></td></tr></table></figure>

<h5 id="九、Makefile的变量"><a href="#九、Makefile的变量" class="headerlink" title="九、Makefile的变量"></a>九、Makefile的变量</h5><p>Makefile的变量分为两种：<code>及时变量</code>、<code>延时变量</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">【1】 `:=`：即时变量，该变量的值即刻确定，在定义时就被确定了;</span><br><span class="line">【2】`=`：延时变量，该变量的值，在使用时才确定；</span><br><span class="line">【3】`?=`：延时变量，第一次定义才起效，如果前面被定义过了就忽略这句；</span><br><span class="line">【4】`+=`：附加，它是即时变量还是延时变量取决于前面的定义；</span><br></pre></td></tr></table></figure>

<h5 id="十、函数遍历"><a href="#十、函数遍历" class="headerlink" title="十、函数遍历"></a>十、函数遍历</h5><p><code>$(foreach val,list,text)</code>：对于list（通常用空格隔开）里的每一个变量执行text操作</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 定义一个list</span><br><span class="line">LIST=a b c</span><br><span class="line"></span><br><span class="line"># 用f代表A中的各个变量，执行第三个参数的操作。</span><br><span class="line"># foreach 遍历关键字，f：LIST中的每个变量，</span><br><span class="line">RESULT=$(foreach f,$(LIST),$(f).result)</span><br><span class="line"></span><br><span class="line">all:</span><br><span class="line">    @echo RESULT=$(RESULT)</span><br></pre></td></tr></table></figure>

<p>输出结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">RESULT=a.result b.result c.result</span><br></pre></td></tr></table></figure>

<h5 id="十一、filter函数过滤"><a href="#十一、filter函数过滤" class="headerlink" title="十一、filter函数过滤"></a>十一、filter函数过滤</h5><p><code>$(filter pattern...,text)</code>：在text里面取出符合pattern格式的值</p>
<p><code>$(filter-out pattern...,text)</code>：在text里面取出不符合pattern格式的值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 定义变量C </span><br><span class="line">C= a b c d/</span><br><span class="line"></span><br><span class="line"># 在变量C中取出符合%/的值</span><br><span class="line">D=$(filter %/,$(C))</span><br><span class="line"></span><br><span class="line"># 在变量C中取出不符合%/的值</span><br><span class="line">E=$(filter-out %/,$(C))</span><br><span class="line"></span><br><span class="line">all:</span><br><span class="line">    @echo D=$(D)</span><br><span class="line">    @echo E=$(E)</span><br></pre></td></tr></table></figure>

<p>输出结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">D=d/</span><br><span class="line">E=a b c</span><br></pre></td></tr></table></figure>

<h5 id="十二、CXXFLAGS补充"><a href="#十二、CXXFLAGS补充" class="headerlink" title="十二、CXXFLAGS补充"></a>十二、CXXFLAGS补充</h5><p>上面已经定义了 CXXFLAGS 变量：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CXXFLAGS=-I $(INC_DIR)</span><br></pre></td></tr></table></figure>

<p>我们还可以对它进行补充，比如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># -I 指定头文件 </span><br><span class="line">CXXFLAGS=-I $(INC_DIR) -Wall -O2 -std=c++11 -frtti -fexceptions</span><br></pre></td></tr></table></figure>

<p>可以指定的FLAG有：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">【1】-Werror：会把所有警告当成错误</span><br><span class="line">【2】-I: 该选项用于指定编译程序时依赖的头文件路径</span><br><span class="line">【3】-On: 这是一个优化选项，如果在编译时指定该选项，则编译器会根据n的值（n取0到3之间）</span><br><span class="line">    对代码进行不同程度的优化，其中-O0 表示不优化，n的值越大，优化程度越高</span><br><span class="line">【4】-L: 库文件依赖选项，该选项用于指定编译的源程序依赖的库文件路径，库文件可以是静态链接库，也可以是动态链接库</span><br><span class="line">【5】-Wall: 允许发出gcc能提供的所有有用的警告，也可以用-W(warning)来标记指定的警告</span><br><span class="line">【6】-std=c++11：C++11标准</span><br><span class="line">【7】-frtti 和 -fexceptions：关闭 exceptions、rtti 可以减小程序的占用的空间和提升程序的运行效率，</span><br><span class="line">    关闭后可能带来一些不兼容问题，使用 typeid 运算符必须开启 RTTI</span><br></pre></td></tr></table></figure>

<p>原文：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/65f9014c07db">NDK&lt;第五篇&gt;：Makefile（windows环境） - 简书 (jianshu.com)</a></p>

            </div>
        
        <footer class="article-footer">
        </footer>
    </div>
</article>






    
        <article id="post-C++/window系统_vscode中配置 c++环境" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
                    <div class="article-meta">
                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/C/">C++</a>
    </div>

                        
                        
  



                        
                        
                    </div>
                
                
   

            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
        
            
        
        
            <h4 id="1-下载编辑器VScode"><a href="#1-下载编辑器VScode" class="headerlink" title="1. 下载编辑器VScode"></a>1. 下载编辑器VScode</h4><ul>
<li>官网：<a target="_blank" rel="noopener" href="https://code.visualstudio.com/">https://code.visualstudio.com/</a><br> <img src="/../../images/vscode%E4%B8%8B%E8%BD%BD.png" alt="下载指引"></li>
<li>安装VScode（建议附加任务全部勾选）</li>
</ul>
<p><img src="/../../images/vscode%E5%AE%89%E8%A3%85.gif" alt="vscode安装"></p>
<h4 id="2-下载编译器MinGW并解压"><a href="#2-下载编译器MinGW并解压" class="headerlink" title="2. 下载编译器MinGW并解压"></a>2. 下载编译器MinGW并解压</h4><ul>
<li><p>官网页面：<a target="_blank" rel="noopener" href="https://www.mingw-w64.org/">https://www.mingw-w64.org/</a></p>
</li>
<li><p>下载页面：<a target="_blank" rel="noopener" href="https://sourceforge.net/projects/mingw-w64/files/">https://sourceforge.net/projects/mingw-w64/files/</a></p>
<blockquote>
<p>你可以进入官网自行寻找</p>
<p>你也可以直接点击为你找好的下载页面</p>
</blockquote>
</li>
<li><p>下载页面中选择 <code>x86_64-win32-seh</code> 下载</p>
</li>
</ul>
<p><img src="/../../images/mingw%E4%B8%8B%E8%BD%BD.png" alt="mingw下载"></p>
<p>如果你因为网络环境限制无法下载</p>
<p>不限速下载，请笑纳^-^：<a target="_blank" rel="noopener" href="https://wwn.lanzouh.com/iLOip031ku6b">https://wwn.lanzouh.com/iLOip031ku6b</a> 密码:1234</p>
<ul>
<li>在C盘中解压文件</li>
</ul>
<p><img src="/../../images/%E8%A7%A3%E5%8E%8Bmingw.gif" alt="img"></p>
<p>理论上你可以在任何地方解压，但注意路径不能包含中文，至于特殊字符请自行测试</p>
<h4 id="3-将MinGW添加至环境变量"><a href="#3-将MinGW添加至环境变量" class="headerlink" title="3. 将MinGW添加至环境变量"></a>3. 将MinGW添加至环境变量</h4><ul>
<li>进入mingw64下的bin文件夹，复制当前路径，Win + i唤起系统设置，输入高级系统设置并进入，点击环境变量，选择path，编辑，新建，粘贴路径，按下三个确定</li>
</ul>
<p><img src="/../../images/%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.gif" alt="img"></p>
<h4 id="4-配置VScode插件"><a href="#4-配置VScode插件" class="headerlink" title="4. 配置VScode插件"></a>4. 配置VScode插件</h4><ul>
<li>打开VScode安装插件 <code>Chinese</code> 和 <code>C/C++</code> ，等待安装完毕后重启VScode</li>
</ul>
<p><img src="/../../images/%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6.gif" alt="img"></p>
<ul>
<li>切换C&#x2F;C++插件至 <code>1.8.4</code> 版本</li>
</ul>
<p><img src="/../../images/%E7%89%88%E6%9C%AC%E9%80%80%E5%9B%9E.png" alt="img"></p>
<p>因最新版本不会自动生成launch.json文件，给后续优化带来不便，故退回旧版本。</p>
<h4 id="5-运行代码"><a href="#5-运行代码" class="headerlink" title="5. 运行代码"></a>5. 运行代码</h4><ul>
<li><p>新建文件夹，修改为英文名称并进入，右键 <code>通过Code打开</code> 若在安装时未勾选相关选项，可能没有这个选项，请自行在VScode内操作打开文件夹</p>
</li>
<li><p>新建一个文件，英文命名且扩展名为 <code>.c</code> </p>
</li>
<li><p>编写相关代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    printf(&quot;Hello World!\n&quot;);</span><br><span class="line">    printf(&quot;你好世界！\n&quot;);</span><br><span class="line">    system(&quot;pause&quot;);    // 防止运行后自动退出，需头文件stdlib.h</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>VScode菜单栏，点击运行，启动调试，稍等程序运行，输出结果在下方终端，上方调试面板，点击最右边的 <code>橙色方框</code> 停止程序运行</p>
</li>
</ul>
<p><img src="/../../images/%E8%BF%90%E8%A1%8C%E4%BB%A3%E7%A0%81.gif" alt="img"></p>
<h4 id="6-调整和优化"><a href="#6-调整和优化" class="headerlink" title="6. 调整和优化"></a>6. 调整和优化</h4><blockquote>
<p>请根据自己的需要进行优化</p>
<p>代码运行后 <code>.vscode</code> 文件夹会自动生成在你的源文件目录下</p>
<p><code>.vscode</code> 文件夹下的 <code>task.json</code> 和 <code>launch.json</code> 用来控制程序的运行和调试</p>
</blockquote>
<ul>
<li><p>将程序运行在外部控制台【推荐】</p>
<p>​	打开<code>.vscode</code> 文件夹下的 <code>launch.json</code> 文件，找到 <code>&quot;externalConsole&quot;: false,</code> 将 <code>false</code> 改为 <code>true</code> 并保存</p>
<p><img src="/../../images/%E6%8E%A7%E5%88%B6%E5%8F%B0.png" alt="img"></p>
</li>
<li><p>解决中文乱码问题【推荐】</p>
</li>
</ul>
<p>​		打开<code>.vscode</code> 文件夹下的 <code>task.json</code> 文件，找到 <code>&quot;$&#123;fileDirname&#125;\\$&#123;fileBasenameNoExtension&#125;.exe&quot;</code> 在后面加上英文 <code>逗号</code> 然后回车到下一行，粘贴下面文本 <code>&quot;-fexec-charset=GBK&quot;</code> 并保存</p>
<p><img src="/../../images/%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81.png" alt="img"></p>
<ul>
<li>收纳生成的 <code>exe</code> 可执行文件【可选】</li>
</ul>
<p>​		1.打开<code>.vscode</code> 文件夹下的 <code>task.json</code> 文件，找到 <code>&quot;$&#123;fileDirname&#125;\\$&#123;fileBasenameNoExtension&#125;.exe&quot;</code> </p>
<p>​		2.修改成 <code>&quot;$&#123;fileDirname&#125;\\coin\\$&#123;fileBasenameNoExtension&#125;.exe&quot;</code> 并保存，同理，<code>launch.json</code> 下也有相同的字段，需要你修改</p>
<p>​		3.在源文件同目录下新建 <code>coin</code> 文件夹，程序运行后，可执行文件将会生成在里面（其中 <code>coin</code> 可修改成你喜欢的英文名字）</p>
<blockquote>
<p>这样 <code>.c</code> 文件一多起来的时候，就不会出现 <code>.exe</code> 和 <code>.c</code> 相互穿插在目录中^-^</p>
</blockquote>
<p><img src="/../../images/%E6%94%B6%E7%BA%B3exe.png" alt="img"></p>
<h4 id="7-提示"><a href="#7-提示" class="headerlink" title="7. 提示"></a>7. 提示</h4><ul>
<li>若源代码文件夹含有中文路径，将会无法编译程序。</li>
<li>若你的Windows用户名使用了中文，可能无法运行。</li>
</ul>

            </div>
        
        <footer class="article-footer">
        </footer>
    </div>
</article>






    
        <article id="post-C++/C++教程从0到1入门编程/3.C++核心" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
                    <div class="article-meta">
                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/C/">C++</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/C/C-%E6%95%99%E7%A8%8B%E4%BB%8E0%E5%88%B01%E5%85%A5%E9%97%A8%E7%BC%96%E7%A8%8B/">C++教程从0到1入门编程</a>
    </div>

                        
                        
  



                        
                        
                    </div>
                
                
   

            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
        
            
        
        
            

	<div class="row">
    <embed src="/pdf/3.C++核心.pdf" width="100%" height="550" type="application/pdf">
	</div>





            </div>
        
        <footer class="article-footer">
        </footer>
    </div>
</article>






    
        <nav id="page-nav">
        <a class="extend prev" rel="prev" href="/page/9/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><a class="page-number" href="/page/12/">12</a><span class="space">&hellip;</span><a class="page-number" href="/page/30/">30</a><a class="extend next" rel="next" href="/page/11/">Next &amp;raquo;</a>
        </nav>
    
</section>
        </div>
        <footer id="footer">
    <div class="outer">
       
    </div>
</footer>

        

    
        
<script src="/libs/lightgallery/js/lightgallery.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-pager.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-zoom.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-hash.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-share.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-video.min.js"></script>

    
    
        
<script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>

    
    



<!-- Custom Scripts -->

<script src="/js/main.js"></script>


    </div>
</body>
</html>